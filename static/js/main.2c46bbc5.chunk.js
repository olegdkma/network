(this["webpackJsonpsc-ntw"]=this["webpackJsonpsc-ntw"]||[]).push([[0],{165:function(e,t,a){e.exports={log:"header_log__OfSps",login:"header_login__1JO4G"}},171:function(e,t,a){e.exports={main:"mainCont_main__3IvGR",body:"mainCont_body__wgyMv"}},232:function(e,t,a){e.exports=a.p+"static/media/loader2.b4376d71.svg"},237:function(e,t,a){e.exports={tac:"ui_tac__4ZekT"}},263:function(e,t,a){e.exports=a(425)},268:function(e,t,a){},270:function(e,t,a){},425:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),l=(a(268),a(93)),i=a.n(l),s=a(127),u=(a(270),a(64)),d=a(65),m=a(70),f=a(69),p=a(455),h=a(165),g=a.n(h),b=a(24),E=a(223),v=a.n(E),O=function(e){var t=Object(b.g)(),a=function(e){var a=e;t.push(a)};return r.a.createElement("div",{className:g.a.log},e.auth?r.a.createElement(r.a.Fragment,null,"Hi, ",e.auth,r.a.createElement(v.a,{style:{cursor:"pointer"},className:g.a.login,onClick:e.logOut})):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{onClick:function(){a("login")},variant:"contained"},"LogIn"),r.a.createElement(p.a,{onClick:function(){a("signup")},variant:"contained"},"SignUp")))},j=a(224),w=a(19),y=(j.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0}),function(){w.auth().signOut().then((function(){return console.log(w.auth().currentUser)})).catch((function(e){console.log(e)}))}),S=function(e,t){return w.auth().signInWithEmailAndPassword(e,t)},_=function(e,t){return w.auth().createUserWithEmailAndPassword(e,t)},k=function(e){},D=a(21),C=function(e){return e.authData.login},U=a(13),T={login:null,uid:null,followed:[],status:null,avaUrl:null},x=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(O,this.props)}}]),a}(n.Component),N=function(e,t,a,n,r){return function(o){o(function(e,t,a,n,r){return{type:"AUTH-ME",login:e,uid:t,followed:a,status:n,avaUrl:r}}(e,t,a,n,r))}},A=Object(D.b)((function(e){return{auth:C(e)}}),{authThunk:N,logOut:function(){return function(e){y()}},dbInit:function(e){return function(t){k(e)}}})(x),M=a(20),I=a(35),F=a(58),B=a(110),R=a(473),P=a(472),L=a(471),H=a(82),W=a.n(H),G=a(475),z=a(458);function V(e){return r.a.createElement(G.a,Object.assign({elevation:6,variant:"filled"},e))}var Z=function(e){var t=e.label,a=e.input,n=e.meta,o=n.touched,c=n.invalid,l=n.error,i=Object(B.a)(e,["label","input","meta"]);return r.a.createElement(L.a,Object.assign({label:t,floatingLabelText:t,error:o&&c,helperText:o&&l},a,i))},Q=function(e){var t=e.label,a=e.input,n=e.meta,o=n.touched,c=n.invalid,l=n.error,i=Object(B.a)(e,["label","input","meta"]);return r.a.createElement(L.a,Object.assign({label:t,floatingLabelText:t,error:o&&c,helperText:o&&l},a,i))},q=function(e){if(e&&e.length<6)return"Min length 6"},J=function(e){if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e))return"Not Valid Email"},K=Object(P.a)({form:"simple"})((function(e){var t=Object(n.useState)(""),a=Object(M.a)(t,2),o=a[0],c=a[1];var l=e.handleSubmit;return r.a.createElement("form",{className:W.a.login,onSubmit:l},r.a.createElement("p",{className:W.a.heading},"/login"===e.location?"Log In":"Sign Up"),r.a.createElement(R.a,{component:Z,label:"Email Address",onChange:function(e){c(e.target.value)},value:o,className:W.a.input,required:!0,validate:[J],id:"outlined-required",name:"email",variant:"outlined",style:{marginBottom:"20px",width:"80%"}}),r.a.createElement(R.a,{component:Q,label:"Password",className:W.a.input,required:!0,validate:[q],id:"outlined-required",name:"password",type:"password",autoComplete:"current-password",variant:"outlined",style:{marginBottom:"20px",width:"80%"}}),"/login"===e.location?r.a.createElement(p.a,{disabled:e.disable,className:W.a.button,type:"submit",variant:"contained",color:"primary"},"LogIn"):r.a.createElement(p.a,{disabled:e.disable,className:W.a.button,variant:"outlined",type:"submit",color:"secondary"},"SignUp"))})),X=Object(b.h)((function(e){var t=Object(n.useState)(null),a=Object(M.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),u=Object(M.a)(l,2),d=u[0],m=u[1];function f(){return(f=Object(s.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(){return"/signup"===e.location.pathname?_(a.email,a.password):"/login"===e.location.pathname?S(a.email,a.password):void 0},m(!0),n().then((function(){m(!1)})).catch((function(e){c(!0),m(!1),console.log(e)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var p=function(e,t){"clickaway"!==t&&c(!1)},h=Object(n.useState)(!1),g=Object(M.a)(h,2),E=g[0],v=g[1];return Object(n.useEffect)((function(){e.login&&v(!0)}),[e.login]),E?r.a.createElement(b.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement(z.a,{open:o,autoHideDuration:4e3,onClose:p},r.a.createElement(V,{onClose:p,severity:"error"},"Invalid email or password")),r.a.createElement(K,{onSubmit:function(e){return f.apply(this,arguments)},disable:d,location:e.location.pathname}))})),$=Object(D.b)((function(e){return{login:e.authData.login}}),{authThunk:N})(X),Y=a(171),ee=a.n(Y),te=a(45),ae={messages:"asd"},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-MESSAGE":return Object(U.a)(Object(U.a)({},e),{},{messages:Object(te.a)(t.data)});default:return e}},re=a(479),oe=a(463),ce=a(73),le=a.n(ce),ie=function(){return w.firestore()},se=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;ie().collection("userData").orderBy("uid").startAfter(a).limit(4).get().then((function(a){var n=a.docs.map((function(e){return e.data()}));e(n),0===a.docs.length?t(a.docs[a.docs.length].data().uid):t(a.docs[a.docs.length-1].data().uid)}))},ue=function(e){return ie().collection("userData").doc(e).collection("messages").get()},de=function(e,t,a){var n=ie().collection("userData").doc(t).collection("messages");return n.add({message:e,timestamp:w.firestore.FieldValue.serverTimestamp(),author:a}),n.orderBy("timestamp","desc").get()},me=function(e,t,a,n){var r=w.storage().ref(),o=(new Date).toDateString()+e.name;r.child(o).put(e).then((function(e){return e.ref.getDownloadURL()})).then((function(e){!function(e,t){ie().collection("userData").doc(e).update({avaUrl:t})}(t,e),a(e)})).catch((function(e){return n(!0)}))},fe=a(221),pe=a(228),he=a.n(pe),ge=a(480),be=a(196),Ee=a(230),ve=a.n(Ee),Oe=a(227),je=a.n(Oe),we=a(109),ye=a.n(we),Se=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).updateMessage=function(t,a,n,r,o,c){if(t.length<5)return r(!0),void o("Dont be shy=)");o(""),r(!1),a(""),c(!1),ue(e.props.uid).then((function(a){if(5===a.docs.map((function(e){return e.data()})).length)return c(!0),void n(!0);de(t,e.props.uid,e.props.login).then((function(t){e.props.getM(t.docs.map((function(e){return{mId:e.id,mData:e.data()}}))),n(!1)}))}))},e}return Object(d.a)(a,[{key:"showMess",value:function(){var e,t=this;(e=this.props.uid,ie().collection("userData").doc(e).collection("messages").get()).then((function(e){t.props.getM(e.docs.map((function(e){return{mId:e.id,mData:e.data()}})))}))}},{key:"componentDidMount",value:function(){this.props.uid&&this.showMess()}},{key:"componentDidUpdate",value:function(e,t){this.props.uid&&e.uid!==this.props.uid&&this.showMess()}},{key:"render",value:function(){return r.a.createElement(_e,Object.assign({},this.props,{updateMessage:this.updateMessage}))}}]),a}(n.PureComponent),_e=function(e){var t=Object(n.useState)(""),a=Object(M.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(e.status),i=Object(M.a)(l,2),s=i[0],u=i[1],d=Object(n.useState)(!1),m=Object(M.a)(d,2),f=m[0],h=m[1],g=Object(n.useState)(!1),E=Object(M.a)(g,2),v=E[0],O=E[1],j=Object(n.useState)(!1),y=Object(M.a)(j,2),S=y[0],_=y[1],k=Object(n.useState)(""),D=Object(M.a)(k,2),C=D[0],U=D[1],T=Object(n.useState)(!1),x=Object(M.a)(T,2),N=x[0],A=x[1],I=Object(n.useState)(!1),F=Object(M.a)(I,2),B=F[0],R=F[1];Object(n.useEffect)((function(){e.status&&u(e.status)}),[e.status]);var P=function(e,t){"clickaway"!==t&&(A(!1),R(!1))};return null==e.login?r.a.createElement(b.a,{to:"/login"}):r.a.createElement("div",{className:le.a.content},r.a.createElement(ye.a,{open:N,autoHideDuration:4e3,onClose:P},r.a.createElement(G.a,{onClose:P,severity:"error"},"Only images allowed size < 50KB")),r.a.createElement(ye.a,{open:B,autoHideDuration:4e3,onClose:P},r.a.createElement(G.a,{onClose:P,severity:"error"},"5 messages limit")),r.a.createElement("div",null,r.a.createElement("div",{className:le.a.avaBlock},e.avaUrl?r.a.createElement(re.a,{style:{width:"90px",height:"90px"},src:e.avaUrl}):r.a.createElement(re.a,{style:{width:"40px"}},e.login&&e.login.slice(0,2)),r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",onChange:function(t){me(t.target.files[0],e.uid,e.addAvatar,A),console.log(t.target.files[0])},type:"file"}),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(p.a,{component:"span",color:"secondary"},r.a.createElement(je.a,null)))),r.a.createElement("div",{className:le.a.status},r.a.createElement("span",null,"Status:"),f?r.a.createElement(L.a,{style:{marginLeft:"20px"},id:"standard-basic",value:s,autoFocus:!0,onChange:function(e){u(e.target.value)},onBlur:function(){w.firestore().collection("userData").doc(e.uid).update({status:s}),h(!1)}}):r.a.createElement("span",{className:le.a.statusSpan},s,r.a.createElement("span",{onClick:function(){return h(!0)}},r.a.createElement(he.a,{color:"secondary",style:{cursor:"pointer"}}))))),r.a.createElement("div",{className:le.a.text},r.a.createElement(L.a,{error:S,helperText:C,style:{width:"90%"},"standard-error-helper-text":!0,label:"What`s going on?",onChange:function(e){c(e.target.value)},value:o}),r.a.createElement("br",null),r.a.createElement(p.a,{disabled:v,onClick:function(){return e.updateMessage(o,c,O,_,U,R)},variant:"contained",color:"primary"},"Tweet")),r.a.createElement("div",{className:le.a.mess},Array.isArray(e.messages)&&e.messages.map((function(t){return r.a.createElement(ke,{message:t.mData.message,avaUrl:e.avaUrl,ava:e.login&&e.login.slice(0,2).toUpperCase(),deleteM:function(){return function(t){var a=w.firestore();O(!1),a.collection("userData").doc(e.uid).collection("messages").doc(t).delete().then((function(){e.getM(e.messages.filter((function(e){return e.mId!==t}))),console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))}(t.mId)}})}))))},ke=function(e){var t=Object(fe.a)({messBlock:{margin:"20px",padding:"40px 15px",display:"flex"}})();return r.a.createElement(oe.a,{className:t.messBlock,variant:"outlined"},e.avaUrl?r.a.createElement(re.a,{style:{width:"40px"},src:e.avaUrl}):r.a.createElement(re.a,{style:{width:"40px"}},e.ava),r.a.createElement("div",{className:le.a.message},r.a.createElement("p",null,e.message),r.a.createElement(ge.a,{onClick:e.deleteM,title:"Delete"},r.a.createElement(be.a,{"aria-label":"delete"},r.a.createElement(ve.a,null)))))},De=Object(D.b)((function(e){return{messages:e.messages.messages,uid:e.authData.uid,status:e.authData.status,login:e.authData.login,avaUrl:e.authData.avaUrl}}),(function(e){return{getM:function(t){return e(function(e){return{type:"SET-MESSAGE",data:e}}(t))},addAvatar:function(t){return e({type:"NEW-AVA",url:t})}}}))(Se),Ce={users:[],currentPage:1,totalCount:null,lastItemId:null},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USERS":return Object(U.a)(Object(U.a)({},e),{},{users:[].concat(Object(te.a)(e.users),Object(te.a)(t.data))});case"SET-COUNT":return Object(U.a)(Object(U.a)({},e),{},{totalCount:t.data});case"NEW-CURRENT":return Object(U.a)(Object(U.a)({},e),{},{currentPage:t.data});case"LAST-ITEM":return Object(U.a)(Object(U.a)({},e),{},{lastItemId:t.data});default:return e}},Te=a(95),xe=a.n(Te),Ne=a(231),Ae=a.n(Ne),Me=function(e){var t=Object(n.useState)(!1),a=Object(M.a)(t,2),o=(a[0],a[1],Object(n.useState)(!1)),c=Object(M.a)(o,2),l=c[0],i=c[1];var s=function(e,t){"clickaway"!==t&&i(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{open:l,autoHideDuration:4e3,onClose:s},r.a.createElement(Ae.a,{onClose:s,severity:"error"},"Max 3 users to follow")),r.a.createElement("div",{className:xe.a.userWrap},e.allUsers.map((function(t){return r.a.createElement("div",{className:xe.a.userCard},t.avaUrl?r.a.createElement(re.a,{src:t.avaUrl}):r.a.createElement(re.a,null,t.email&&t.email.slice(0,2).toUpperCase()),r.a.createElement("p",null,t.email),e.followed&&e.followed.includes(t.uid)?r.a.createElement(p.a,{onClick:function(){return a=t.uid,void w.firestore().collection("userData").doc(e.uid).update({followed:w.firestore.FieldValue.arrayRemove(a)}).then((function(){}));var a},variant:"contained",color:"secondary"},"UnFollow"):r.a.createElement(p.a,{disabled:!e.uid||t.uid==e.uid,onClick:function(a){return n=t.uid,void(e.followed.length>=3?i(!0):(i(!1),w.firestore().collection("userData").doc(e.uid).update({followed:w.firestore.FieldValue.arrayUnion(n)})));var n},variant:"contained",color:"primary"},"Follow"))}))))},Ie=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e;this.props.totalCount||(e=this.props.setCount,ie().collection("userData").get().then((function(t){return e(t.size)})),se(this.props.getU,this.props.lastQueryItem))}},{key:"pagination",value:function(){se(this.props.getU,this.props.lastQueryItem,this.props.lastItemId),this.props.currentPage(this.props.current+1)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:xe.a.allU},r.a.createElement("div",{className:xe.a.info},"Registerted users : ",this.props.totalCount),r.a.createElement(Me,this.props),r.a.createElement("div",{className:xe.a.button},Math.ceil(this.props.totalCount/4)===this.props.current?r.a.createElement(p.a,{variant:"contained",color:"primary",disabled:!0},"All users loaded"):r.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){e.pagination()}},"Load more users")))}}]),a}(r.a.Component),Fe=Object(D.b)((function(e){return{allUsers:e.users.users,uid:e.authData.uid,followed:e.authData.followed,current:e.users.currentPage,totalCount:e.users.totalCount,lastItemId:e.users.lastItemId}}),(function(e){return{getU:function(t){e(function(e){return{type:"SET-USERS",data:e}}(t))},setCount:function(t){e(function(e){return{type:"SET-COUNT",data:e}}(t))},currentPage:function(t){e(function(e){return{type:"NEW-CURRENT",data:e}}(t))},lastQueryItem:function(t){e(function(e){return{type:"LAST-ITEM",data:e}}(t))}}}))(Ie),Be="SET-FEED",Re={feed:[],isFetching:!1},Pe=function(e){return{type:"LOADER",data:e}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return Object(U.a)(Object(U.a)({},e),{},{feed:Object(te.a)(t.data)});case"LOADER":return Object(U.a)(Object(U.a)({},e),{},{isFetching:t.data});default:return e}},He=a(83),We=a.n(He),Ge=a(464),ze=a(111),Ve=a(232),Ze=a.n(Ve),Qe=function(e){var t=Object(fe.a)({cardBlock:{margin:"20px"}})(),a=e.date;return r.a.createElement(oe.a,{className:t.cardBlock,variant:"outlined"},r.a.createElement(Ge.a,null,r.a.createElement(ze.a,{variant:"body2",component:"p"},e.author&&r.a.createElement("span",{className:We.a.apsn}," ",e.author),r.a.createElement("span",{className:We.a.apsn},a.toDateString()),r.a.createElement("span",{className:We.a.apsn},a.toLocaleTimeString("en-US"))),r.a.createElement("p",{className:We.a.feedText},e.message)))},qe=function(e){var t=Object(b.g)();return r.a.createElement(r.a.Fragment,null,e.isFetching?r.a.createElement("div",{className:We.a.loader},r.a.createElement("img",{src:Ze.a,alt:""})):r.a.createElement("div",null,r.a.createElement("div",{className:We.a.alertDiv},0!==e.mess.length?r.a.createElement("p",null,"You are following: ",e.followed.length," users"):r.a.createElement("p",null,"Follow users to see their last messages ",r.a.createElement("br",null)," ",r.a.createElement(p.a,{onClick:function(){!function(e){var a=e;t.push(a)}("users")},variant:"contained"},"Find users"))),Array.isArray(e.mess)&&e.mess.sort((function(e,t){return t.timestamp-e.timestamp})).map((function(e){return r.a.createElement(Qe,{author:e.author,message:e.message,date:e.timestamp.toDate()})}))))},Je=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={feedM:[]},e}return Object(d.a)(a,[{key:"showFeed",value:function(e){var t,a,n=this;(t=this.props.followed,a=e,a(!0),ie().collection("userData").where(w.firestore.FieldPath.documentId(),"in",t).get()).then((function(t){console.log("some"),t.docs.forEach((function(t){t.ref.collection("messages").orderBy("timestamp","desc").limit(2).get().then((function(t){n.setFeed(t.docs),e(!1)})).catch((function(t){return e(!1)}))}))}))}},{key:"setFeed",value:function(e){this.setState((function(t){return{feedM:[].concat(Object(te.a)(t.feedM),Object(te.a)(e.map((function(e){return e.data()}))))}}))}},{key:"componentDidMount",value:function(){0!==this.props.followed.length&&this.showFeed(this.props.fetchingLoader)}},{key:"componentDidUpdate",value:function(e,t,a){if(e.followed!==this.props.followed){if(0===this.props.followed.length)return;this.showFeed(this.props.fetchingLoader)}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe,Object.assign({},this.props,{mess:this.state.feedM})))}}]),a}(r.a.Component),Ke=Object(D.b)((function(e){return{allUsers:e.users.users,uid:e.authData.uid,followed:e.authData.followed,isFetching:e.feed.isFetching}}),(function(e){return{getF:function(t){e(function(e){return{type:Be,data:e}}(t))},fetchingLoader:function(t){e(Pe(t))}}}))(Je),Xe=a(476),$e=a(457),Ye=a(467),et=a(74),tt=a.n(et),at=a(172),nt=a.n(at),rt={play:!1,movePattern:[],score:0,showAnswer:!1,dimension:3,start:null,choose:!1},ot=function(e){return{type:"GAME-STATUS",payload:e}},ct=function(e){return{type:"MOVE",payload:e}},lt=function(e){return{type:"SHOW-ANSWER",payload:e}},it=function(e){return{type:"SET-START",payload:e}},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAME-STATUS":return Object(U.a)(Object(U.a)({},e),{},{play:t.payload});case"CHOOSE":return Object(U.a)(Object(U.a)({},e),{},{choose:t.payload});case"MOVE":return Object(U.a)(Object(U.a)({},e),{},{movePattern:t.payload});case"SCORE":return Object(U.a)(Object(U.a)({},e),{},{score:e.score+t.payload});case"SHOW-ANSWER":return Object(U.a)(Object(U.a)({},e),{},{showAnswer:t.payload});case"SET-DIMENSION":return Object(U.a)(Object(U.a)({},e),{},{dimension:t.payload});case"SET-START":return Object(U.a)(Object(U.a)({},e),{},{start:t.payload});default:return e}},ut=a(233),dt=a.n(ut),mt=a(234),ft=a.n(mt),pt=a(235),ht=a.n(pt),gt=a(236),bt=a.n(gt),Et=function(e,t){return e-t},vt=function(e,t){return e+t},Ot=function(e,t){return e+1},jt=function(e,t){return e-1};function wt(e,t,a){var n=["UP","DOWN","LEFT","RIGHT"];switch(e<=t&&(n=n.filter((function(e){return"UP"!==e}))),(e-1)%t!==0&&1!==e||(n=n.filter((function(e){return"LEFT"!==e}))),e%t===0&&(n=n.filter((function(e){return"RIGHT"!==e}))),e>t*t-t&&(n=n.filter((function(e){return"DOWN"!==e}))),n[Math.floor(Math.random()*n.length)]){case"UP":return a.push(r.a.createElement(dt.a,null)),Et(e,t);case"DOWN":return a.push(r.a.createElement(ft.a,null)),vt(e,t);case"LEFT":return a.push(r.a.createElement(ht.a,null)),jt(e,t);case"RIGHT":return a.push(r.a.createElement(bt.a,null)),Ot(e,t);default:alert("game ended on field ".concat(e))}}var yt=function(e){var t;var a=nt()(tt.a.block,(t={},Object(I.a)(t,tt.a.stblock,e.id===e.start),Object(I.a)(t,tt.a.answer,e.showAnswer&&e.id===e.answer),t));return r.a.createElement("button",{disabled:!e.choose,onClick:function(){e.showAnswerD(!0),e.id===e.answer?e.scored(100):e.scored(-100),e.chooseD(!1),e.gameStatusD(!1)},className:a},e.id===e.start?"Start":"")},St=function(e){var t=Object(n.useState)([]),a=Object(M.a)(t,2),o=a[0],c=a[1],l=Object(n.useRef)(o);return l.current=o,Object(n.useEffect)((function(){if(l.current=[],c([]),null!==e.start){var t=0;!function a(){c([].concat(Object(te.a)(l.current),[e.history[t]])),++t<e.history.length?setTimeout(a,500):e.chooseD(!0)}()}}),[e.start]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:tt.a.path},o.map((function(e,t){return r.a.createElement("div",{key:t},o[t])}))),r.a.createElement("p",{className:tt.a.text},"Rules: follow moves pattern in your mind, as it stops click on correct field to get points "))},_t=Object(D.b)((function(e){return{gameStatus:e.game.play,movePattern:e.game.movePattern,score:e.game.score,showAnswer:e.game.showAnswer,dimension:e.game.dimension,start:e.game.start,choose:e.game.choose}}),(function(e){return{gameStatusD:function(t){e(ot(t))},chooseD:function(t){e(function(e){return{type:"CHOOSE",payload:e}}(t))},startMove:function(t){e(ct(t))},scored:function(t){e({type:"SCORE",payload:t})},showAnswerD:function(t){e(lt(t))},setStartD:function(t){e(it(t))}}}))((function(e){var t,a=e.dimension,o=Array(a*a).fill(""),c=[],l=Object(n.useState)(null),i=Object(M.a)(l,2),s=i[0],u=i[1];Object(n.useEffect)((function(){if(e.gameStatus){var t=Math.floor(8*Math.random()+1);e.setStartD(t);for(var n=t,r=0;r<=9;++r)n=wt(n,a,c);u(n),e.startMove(c)}}),[e.gameStatus]);var d=nt()((t={},Object(I.a)(t,tt.a.big9,3===e.dimension),Object(I.a)(t,tt.a.big25,5===e.dimension),t));return r.a.createElement("div",null,r.a.createElement("div",{className:d},o.map((function(t,a){return r.a.createElement(yt,Object.assign({},e,{id:a+1,start:e.start,answer:s,key:a}))}))),r.a.createElement(St,{game:e.gameStatus,history:e.movePattern,start:e.start,answer:s,chooseD:e.chooseD}))})),kt=a(474),Dt=a(465),Ct=a(237),Ut=a.n(Ct),Tt=Object(D.b)((function(e){return{gameStatus:e.game.play,movePattern:e.game.movePattern,score:e.game.score,dimension:e.game.dimension,start:e.game.start,choose:e.game.choose}}),(function(e){return{gameStatusD:function(t){e(ot(t))},showAnswerD:function(t){e(lt(t))},toggle:function(t){e(lt(!1)),e(ct([])),e(function(e){return{type:"SET-DIMENSION",payload:e}}(t)),e(ot(!1)),e(it(null))}}}))((function(e){var t=r.a.useState("a"),a=Object(M.a)(t,2),o=a[0],c=a[1],l=function(e){c(e.target.value)};return Object(n.useEffect)((function(){return function(){e.toggle(3)}}),[]),r.a.createElement("div",{className:Ut.a.tac},r.a.createElement(Dt.a,{value:"end",control:r.a.createElement(kt.a,{checked:"a"===o,disabled:e.gameStatus,onChange:l,onClick:function(){return e.toggle(3)},value:"a",name:"radio-button-demo",inputProps:{"aria-label":"A"}}),label:"3x3"}),r.a.createElement(Dt.a,{value:"end",control:r.a.createElement(kt.a,{checked:"b"===o,disabled:e.gameStatus,onChange:l,onClick:function(){return e.toggle(5)},value:"b",name:"radio-button-demo",inputProps:{"aria-label":"B"}}),label:"5x5"}),r.a.createElement("p",null,"Score ",e.score),r.a.createElement(p.a,{disabled:e.gameStatus,variant:"contained",onClick:function(){e.gameStatusD(!0),e.showAnswerD(!1)},color:"secondary"},"Start New Game"))})),xt=a(238),Nt=a.n(xt),At=a(239),Mt=a.n(At),It=a(5),Ft=a(466),Bt=a(30),Rt=a(242),Pt=a.n(Rt),Lt=a(241),Ht=a.n(Lt),Wt=a(468),Gt=a(469),zt=a(470),Vt=a(240),Zt=a.n(Vt),Qt=a(243),qt=a.n(Qt),Jt=a(244),Kt=a.n(Jt),Xt=a(245),$t=a.n(Xt),Yt=a(246),ea=a.n(Yt),ta=Object(fe.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(I.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(U.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),aa=function(){var e,t,a=ta(),n=Object(Bt.a)(),o=r.a.useState(!1),c=Object(M.a)(o,2),l=c[0],i=c[1];return r.a.createElement(b.d,null,r.a.createElement("div",{className:ee.a.main},r.a.createElement("div",{className:a.root},r.a.createElement(Nt.a,null),r.a.createElement(Mt.a,{position:"fixed",className:Object(It.default)(a.appBar,Object(I.a)({},a.appBarShift,l))},r.a.createElement(Ft.a,null,r.a.createElement(be.a,{color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},edge:"start",className:Object(It.default)(a.menuButton,Object(I.a)({},a.hide,l))},r.a.createElement(Zt.a,null)),r.a.createElement(A,null))),r.a.createElement(Xe.a,{variant:"permanent",className:Object(It.default)(a.drawer,(e={},Object(I.a)(e,a.drawerOpen,l),Object(I.a)(e,a.drawerClose,!l),e)),classes:{paper:Object(It.default)((t={},Object(I.a)(t,a.drawerOpen,l),Object(I.a)(t,a.drawerClose,!l),t))}},r.a.createElement("div",{className:a.toolbar},r.a.createElement(be.a,{onClick:function(){i(!1)}},"rtl"===n.direction?r.a.createElement(Ht.a,null):r.a.createElement(Pt.a,null))),r.a.createElement(Ye.a,null),r.a.createElement($e.a,null,["Profile","Users","Feed","Game"].map((function(e,t){return r.a.createElement(F.b,{to:"/".concat(e.toLowerCase())},r.a.createElement(Wt.a,{button:!0,key:e},r.a.createElement(Gt.a,null,0===t&&r.a.createElement(qt.a,null),1===t&&r.a.createElement(Kt.a,null),2===t&&r.a.createElement($t.a,null),3===t&&r.a.createElement(ea.a,null)),r.a.createElement(zt.a,{primary:e})))}))),r.a.createElement(Ye.a,null))),r.a.createElement("div",{className:ee.a.body},r.a.createElement(b.b,{path:"/profile"},r.a.createElement(De,null)),r.a.createElement(b.b,{path:"/users"},r.a.createElement(Fe,null)),r.a.createElement(b.b,{path:"/feed"},r.a.createElement(Ke,null)),r.a.createElement(b.b,{path:"/login"},r.a.createElement($,null)),r.a.createElement(b.b,{path:"/signup"},r.a.createElement($,null)),r.a.createElement(b.b,{path:"/game"},r.a.createElement(Tt,null),r.a.createElement(_t,null)))))};var na=Object(D.b)(null,{authThunk:N,fetchi:function(e){return function(t){t(t(Pe(e)))}}})((function(e){return w.auth().onAuthStateChanged(function(){var t=Object(s.a)(i.a.mark((function t(a){var n,r,o,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w.auth().currentUser){t.next=4;break}return e.authThunk(null,null,[]),e.fetchi(!1),t.abrupt("return");case 4:e.fetchi(!0),n=w.firestore(),r=w.auth().currentUser.uid,o=n.collection("userData").doc(r),c=w.auth().currentUser.email,o.get().then((function(t){if(t.exists)o.onSnapshot((function(t){var a=t.data().followed,n=t.data().status,o=t.data().avaUrl;e.authThunk(c,r,a,n,o)}));else{var a=w.auth().currentUser,n=[];o.set({email:a.email,uid:a.uid,followed:n,status:""}),e.authThunk(c,r,n,"")}}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),r.a.createElement(r.a.Fragment,null,r.a.createElement(aa,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ra=a(25),oa=a(247),ca=a(478),la=Object(ra.c)({authData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH-ME":return Object(U.a)(Object(U.a)({},e),{},{login:t.login,uid:t.uid,followed:t.followed,status:t.status,avaUrl:t.avaUrl});case"NEW-AVA":return Object(U.a)(Object(U.a)({},e),{},{avaUrl:t.url});default:return e}},messages:ne,users:Ue,feed:Le,form:ca.a,game:st}),ia=Object(ra.d)(la,Object(ra.a)(oa.a));window.store=ia;var sa=ia;w.initializeApp({apiKey:"AIzaSyArhJqkI1SecXZhxOC8FtiGulmeBBhcCtk",authDomain:"social-network-ae990.firebaseapp.com",databaseURL:"https://social-network-ae990.firebaseio.com",projectId:"social-network-ae990",storageBucket:"social-network-ae990.appspot.com",messagingSenderId:"1054678905809",appId:"1:1054678905809:web:7d3d4104dbcf1840dc66f0"}),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D.a,{store:sa},r.a.createElement(F.a,null,r.a.createElement(na,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,a){e.exports={text:"profile_text__2K8QF",content:"profile_content__3UEkz",status:"profile_status__3Cdz_",statusSpan:"profile_statusSpan__3zEHx",message:"profile_message__2rSvG",avaBlock:"profile_avaBlock__38Qke"}},74:function(e,t,a){e.exports={big25:"map_big25__3dUPH",block:"map_block__2c2fT",big9:"map_big9__1EP4x",stblock:"map_stblock__2D9Ts",path:"map_path__2le4u",answer:"map_answer__xZsuM",text:"map_text__3oVl6"}},82:function(e,t,a){e.exports={login:"login_login__2kTbk",heading:"login_heading__3odhs",button:"login_button__3lHhE"}},83:function(e,t,a){e.exports={alertDiv:"feed_alertDiv__3fzqG",apsn:"feed_apsn__2RoBT",loader:"feed_loader__1MAnv",feedText:"feed_feedText__2oHyV"}},95:function(e,t,a){e.exports={userCard:"allusers_userCard__3B1TQ",userWrap:"allusers_userWrap__2Z88B",paginButton:"allusers_paginButton__2UQRH",allU:"allusers_allU__kZaJT",info:"allusers_info__30Dz1",button:"allusers_button__10ALK"}}},[[263,1,2]]]);
//# sourceMappingURL=main.2c46bbc5.chunk.js.map