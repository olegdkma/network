(this["webpackJsonpsc-ntw"]=this["webpackJsonpsc-ntw"]||[]).push([[0],{112:function(e,t,a){e.exports={alertDiv:"feed_alertDiv__3fzqG",apsn:"feed_apsn__2RoBT"}},168:function(e,t,a){e.exports={log:"header_log__OfSps",login:"header_login__1JO4G"}},174:function(e,t,a){e.exports={main:"mainCont_main__3IvGR",body:"mainCont_body__wgyMv"}},238:function(e,t,a){e.exports={tac:"ui_tac__4ZekT"}},262:function(e,t,a){e.exports=a(424)},267:function(e,t,a){},269:function(e,t,a){},424:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),l=a.n(o),c=(a(267),a(60)),i=a.n(c),s=a(92),u=(a(269),a(65)),d=a(66),m=a(71),p=a(70),f=a(454),h=a(168),g=a.n(h),b=a(25),E=a(225),v=a.n(E),O=function(e){var t=Object(b.g)(),a=function(e){var a=e;t.push(a)};return r.a.createElement("div",{className:g.a.log},e.auth?r.a.createElement(r.a.Fragment,null,"Hi, ",e.auth,r.a.createElement(v.a,{style:{cursor:"pointer"},className:g.a.login,onClick:e.logOut})):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{onClick:function(){a("login")},variant:"contained"},"LogIn"),r.a.createElement(f.a,{onClick:function(){a("signup")},variant:"contained"},"SignUp")))},w=a(226),j=a(15),y=(w.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0}),function(){j.auth().signOut().then((function(){return console.log(j.auth().currentUser)})).catch((function(e){console.log(e)}))}),S=function(e,t){return j.auth().signInWithEmailAndPassword(e,t)},_=function(e,t){return j.auth().createUserWithEmailAndPassword(e,t)},k=function(e){},D=a(21),C=function(e){return e.authData.login},U=a(13),N={login:null,uid:null,followed:[],status:null,avaUrl:null},x=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(O,this.props)}}]),a}(n.Component),T=function(e,t,a,n,r){return function(o){o(function(e,t,a,n,r){return{type:"AUTH-ME",login:e,uid:t,followed:a,status:n,avaUrl:r}}(e,t,a,n,r))}},A=Object(D.b)((function(e){return{auth:C(e)}}),{authThunk:T,logOut:function(){return function(e){y()}},dbInit:function(e){return function(t){k(e)}}})(x),M=a(20),I=a(34),B=a(58),P=a(111),R=a(472),F=a(471),L=a(470),W=a(83),H=a.n(W),G=a(474),z=a(457);function q(e){return r.a.createElement(G.a,Object.assign({elevation:6,variant:"filled"},e))}var V=function(e){var t=e.label,a=e.input,n=e.meta,o=n.touched,l=n.invalid,c=n.error,i=Object(P.a)(e,["label","input","meta"]);return r.a.createElement(L.a,Object.assign({label:t,floatingLabelText:t,error:o&&l,helperText:o&&c},a,i))},Z=function(e){var t=e.label,a=e.input,n=e.meta,o=n.touched,l=n.invalid,c=n.error,i=Object(P.a)(e,["label","input","meta"]);return r.a.createElement(L.a,Object.assign({label:t,floatingLabelText:t,error:o&&l,helperText:o&&c},a,i))},Q=function(e){if(e&&e.length<6)return"Min length 6"},J=function(e){if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e))return"Not Valid Email"},K=Object(F.a)({form:"simple"})((function(e){var t=Object(n.useState)(""),a=Object(M.a)(t,2),o=a[0],l=a[1];var c=e.handleSubmit;return r.a.createElement("form",{className:H.a.login,onSubmit:c},r.a.createElement("p",{className:H.a.heading},"/login"===e.location?"Log In":"Sign Up"),r.a.createElement(R.a,{component:V,label:"Email Address",onChange:function(e){l(e.target.value)},value:o,className:H.a.input,required:!0,validate:[J],id:"outlined-required",name:"email",variant:"outlined",style:{marginBottom:"20px",width:"80%"}}),r.a.createElement(R.a,{component:Z,label:"Password",className:H.a.input,required:!0,validate:[Q],id:"outlined-required",name:"password",type:"password",autoComplete:"current-password",variant:"outlined",style:{marginBottom:"20px",width:"80%"}}),"/login"===e.location?r.a.createElement(f.a,{disabled:e.disable,className:H.a.button,type:"submit",variant:"contained",color:"primary"},"LogIn"):r.a.createElement(f.a,{disabled:e.disable,className:H.a.button,variant:"outlined",type:"submit",color:"secondary"},"SignUp"))})),X=Object(b.h)((function(e){var t=Object(n.useState)(null),a=Object(M.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(!1),u=Object(M.a)(c,2),d=u[0],m=u[1];function p(){return(p=Object(s.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(){return"/signup"===e.location.pathname?_(a.email,a.password):"/login"===e.location.pathname?S(a.email,a.password):void 0},m(!0),n().then((function(){m(!1),console.log(j.auth().currentUser)})).catch((function(e){l(!0),m(!1),console.log(e)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var f=function(e,t){"clickaway"!==t&&l(!1)},h=Object(n.useState)(!1),g=Object(M.a)(h,2),E=g[0],v=g[1];return Object(n.useEffect)((function(){e.login&&(v(!0),console.log("dum"))}),[e.login]),E?r.a.createElement(b.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement(z.a,{open:o,autoHideDuration:4e3,onClose:f},r.a.createElement(q,{onClose:f,severity:"error"},"Invalid email or password")),r.a.createElement(K,{onSubmit:function(e){return p.apply(this,arguments)},disable:d,location:e.location.pathname}))})),$=Object(D.b)((function(e){return{login:e.authData.login}}),{authThunk:T})(X),Y=a(96),ee=a.n(Y),te=Object(F.a)({form:"sign"})((function(e){var t=Object(n.useState)(""),a=Object(M.a)(t,2),o=a[0],l=a[1];var c=e.handleSubmit;return r.a.createElement("form",{className:ee.a.login,onSubmit:c},r.a.createElement("p",{className:ee.a.heading},"Sign Un"),r.a.createElement(R.a,{component:V,label:"Email Address",onChange:function(e){l(e.target.value)},value:o,className:ee.a.input,required:!0,id:"outlined-required",name:"email",type:"email",variant:"outlined",style:{marginBottom:"20px",width:"80%"}}),r.a.createElement(R.a,{component:Z,label:"Password",className:ee.a.input,required:!0,id:"outlined-required",name:"password",type:"password",variant:"outlined",autoComplete:"current-password",style:{marginBottom:"20px",width:"80%"}}),r.a.createElement(f.a,{className:ee.a.button,type:"submit",variant:"contained"},"SignUp"))})),ae=(Object(D.b)((function(e){return{uid:e.authData.uid}}),{authThunk:T,dbInit:function(e){return function(t){k(e)}}})((function(e){function t(){return(t=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,_(t.email,t.password);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(te,{onSubmit:function(e){return t.apply(this,arguments)}}))})),a(174)),ne=a.n(ae),re=a(45),oe={messages:"asd"},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-MESSAGE":return Object(U.a)(Object(U.a)({},e),{},{messages:Object(re.a)(t.data)});default:return e}},ce=a(478),ie=a(462),se=a(74),ue=a.n(se),de={users:[],currentPage:1,totalCount:null,lastItemId:null},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USERS":return Object(U.a)(Object(U.a)({},e),{},{users:[].concat(Object(re.a)(e.users),Object(re.a)(t.data))});case"SET-COUNT":return Object(U.a)(Object(U.a)({},e),{},{totalCount:t.data});case"NEW-CURRENT":return Object(U.a)(Object(U.a)({},e),{},{currentPage:t.data});case"LAST-ITEM":return Object(U.a)(Object(U.a)({},e),{},{lastItemId:t.data});default:return e}},pe=function(){return j.firestore()},fe=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;pe().collection("userData").orderBy("uid").startAfter(a).limit(4).get().then((function(a){var n=a.docs.map((function(e){return e.data()}));console.log(n),e(n),0===a.docs.length?t(a.docs[a.docs.length].data().uid):t(a.docs[a.docs.length-1].data().uid)}))},he=function(e){return pe().collection("userData").doc(e).collection("messages").get()},ge=function(e,t,a){var n=pe().collection("userData").doc(t).collection("messages");return n.add({message:e,timestamp:j.firestore.FieldValue.serverTimestamp(),author:a}),n.orderBy("timestamp","desc").get()},be=function(e,t,a,n){var r=j.storage().ref(),o=(new Date).toDateString()+e.name;r.child(o).put(e).then((function(e){return e.ref.getDownloadURL()})).then((function(e){!function(e,t){pe().collection("userData").doc(e).update({avaUrl:t})}(t,e),a(e)})).catch((function(e){return n(!0)}))},Ee=a(223),ve=a(230),Oe=a.n(ve),we=a(479),je=a(198),ye=a(232),Se=a.n(ye),_e=a(229),ke=a.n(_e),De=a(110),Ce=a.n(De),Ue=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).updateMessage=function(t,a,n,r,o,l){if(t.length<5)return r(!0),void o("Dont be shy=)");o(""),r(!1),a(""),l(!1),he(e.props.uid).then((function(a){if(5===a.docs.map((function(e){return e.data()})).length)return l(!0),void n(!0);ge(t,e.props.uid,e.props.login).then((function(t){e.props.getM(t.docs.map((function(e){return{mId:e.id,mData:e.data()}}))),n(!1)}))}))},e}return Object(d.a)(a,[{key:"showMess",value:function(){var e,t=this;(e=this.props.uid,pe().collection("userData").doc(e).collection("messages").get()).then((function(e){t.props.getM(e.docs.map((function(e){return{mId:e.id,mData:e.data()}})))}))}},{key:"componentDidMount",value:function(){this.props.uid&&this.showMess()}},{key:"componentDidUpdate",value:function(e,t){this.props.uid&&e.uid!==this.props.uid&&this.showMess()}},{key:"render",value:function(){return r.a.createElement(Ne,Object.assign({},this.props,{updateMessage:this.updateMessage}))}}]),a}(n.PureComponent),Ne=function(e){var t=Object(n.useState)(""),a=Object(M.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(e.status),i=Object(M.a)(c,2),s=i[0],u=i[1],d=Object(n.useState)(!1),m=Object(M.a)(d,2),p=m[0],h=m[1],g=Object(n.useState)(!1),E=Object(M.a)(g,2),v=E[0],O=E[1],w=Object(n.useState)(!1),y=Object(M.a)(w,2),S=y[0],_=y[1],k=Object(n.useState)(""),D=Object(M.a)(k,2),C=D[0],U=D[1],N=Object(n.useState)(!1),x=Object(M.a)(N,2),T=x[0],A=x[1],I=Object(n.useState)(!1),B=Object(M.a)(I,2),P=B[0],R=B[1];Object(n.useEffect)((function(){e.status&&u(e.status)}),[e.status]);var F=function(e,t){"clickaway"!==t&&(A(!1),R(!1))};return null==e.login?r.a.createElement(b.a,{to:"/login"}):r.a.createElement("div",{className:ue.a.content},r.a.createElement(Ce.a,{open:T,autoHideDuration:4e3,onClose:F},r.a.createElement(G.a,{onClose:F,severity:"error"},"Only images allowed size < 50KB")),r.a.createElement(Ce.a,{open:P,autoHideDuration:4e3,onClose:F},r.a.createElement(G.a,{onClose:F,severity:"error"},"5 messages limit")),r.a.createElement("div",null,r.a.createElement("div",{className:ue.a.avaBlock},e.avaUrl?r.a.createElement(ce.a,{style:{width:"90px",height:"90px"},src:e.avaUrl}):r.a.createElement(ce.a,{style:{width:"40px"}},e.login&&e.login.slice(0,2)),r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",onChange:function(t){be(t.target.files[0],e.uid,e.addAvatar,A),console.log(t.target.files[0])},type:"file"}),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(f.a,{component:"span",color:"secondary"},r.a.createElement(ke.a,null)))),r.a.createElement("div",{className:ue.a.status},r.a.createElement("span",null,"Status:"),p?r.a.createElement(L.a,{style:{marginLeft:"20px"},id:"standard-basic",value:s,autoFocus:!0,onChange:function(e){u(e.target.value)},onBlur:function(){j.firestore().collection("userData").doc(e.uid).update({status:s}),h(!1)}}):r.a.createElement("span",{className:ue.a.statusSpan},s,r.a.createElement("span",{onClick:function(){return h(!0)}},r.a.createElement(Oe.a,{color:"secondary",style:{cursor:"pointer"}}))))),r.a.createElement("div",{className:ue.a.text},r.a.createElement(L.a,{error:S,helperText:C,style:{width:"90%"},"standard-error-helper-text":!0,label:"What`s going on?",onChange:function(e){l(e.target.value)},value:o}),r.a.createElement("br",null),r.a.createElement(f.a,{disabled:v,onClick:function(){return e.updateMessage(o,l,O,_,U,R)},variant:"contained",color:"primary"},"Tweet")),r.a.createElement("div",{className:ue.a.mess},Array.isArray(e.messages)&&e.messages.map((function(t){return r.a.createElement(xe,{message:t.mData.message,avaUrl:e.avaUrl,ava:e.login&&e.login.slice(0,2).toUpperCase(),deleteM:function(){return function(t){var a=j.firestore();O(!1),a.collection("userData").doc(e.uid).collection("messages").doc(t).delete().then((function(){e.getM(e.messages.filter((function(e){return e.mId!==t}))),console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))}(t.mId)}})}))))},xe=function(e){var t=Object(Ee.a)({messBlock:{margin:"20px",padding:"40px 15px",display:"flex"}})();return r.a.createElement(ie.a,{className:t.messBlock,variant:"outlined"},e.avaUrl?r.a.createElement(ce.a,{style:{width:"40px"},src:e.avaUrl}):r.a.createElement(ce.a,{style:{width:"40px"}},e.ava),r.a.createElement("div",{className:ue.a.message},r.a.createElement("p",null,e.message),r.a.createElement(we.a,{onClick:e.deleteM,title:"Delete"},r.a.createElement(je.a,{"aria-label":"delete"},r.a.createElement(Se.a,null)))))},Te=Object(D.b)((function(e){return{messages:e.messages.messages,uid:e.authData.uid,status:e.authData.status,login:e.authData.login,avaUrl:e.authData.avaUrl}}),(function(e){return{getM:function(t){return e(function(e){return{type:"SET-MESSAGE",data:e}}(t))},addAvatar:function(t){return e({type:"NEW-AVA",url:t})}}}))(Ue),Ae=a(97),Me=a.n(Ae),Ie=a(233),Be=a.n(Ie),Pe=function(e){var t=Object(n.useState)(!1),a=Object(M.a)(t,2),o=(a[0],a[1],Object(n.useState)(!1)),l=Object(M.a)(o,2),c=l[0],i=l[1];var s=function(e,t){"clickaway"!==t&&i(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{open:c,autoHideDuration:4e3,onClose:s},r.a.createElement(Be.a,{onClose:s,severity:"error"},"Max 3 users to follow")),r.a.createElement("div",{className:Me.a.userWrap},e.allUsers.map((function(t){return r.a.createElement("div",{className:Me.a.userCard},t.avaUrl?r.a.createElement(ce.a,{src:t.avaUrl}):r.a.createElement(ce.a,null,t.email&&t.email.slice(0,2).toUpperCase()),r.a.createElement("p",null,t.email),e.followed&&e.followed.includes(t.uid)?r.a.createElement(f.a,{onClick:function(){return a=t.uid,void j.firestore().collection("userData").doc(e.uid).update({followed:j.firestore.FieldValue.arrayRemove(a)}).then((function(){}));var a},variant:"contained",color:"secondary"},"UnFollow"):r.a.createElement(f.a,{disabled:!e.uid||t.uid==e.uid,onClick:function(a){return n=t.uid,void(e.followed.length>=3?i(!0):(i(!1),j.firestore().collection("userData").doc(e.uid).update({followed:j.firestore.FieldValue.arrayUnion(n)})));var n},variant:"contained",color:"primary"},"Follow"))}))))},Re=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e;this.props.totalCount||(e=this.props.setCount,pe().collection("userData").get().then((function(t){return e(t.size)})),fe(this.props.getU,this.props.lastQueryItem))}},{key:"pagination",value:function(){fe(this.props.getU,this.props.lastQueryItem,this.props.lastItemId),this.props.currentPage(this.props.current+1)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:Me.a.allU},r.a.createElement("div",{className:Me.a.info},"Registerted users : ",this.props.totalCount),r.a.createElement(Pe,this.props),r.a.createElement("div",{className:Me.a.button},Math.ceil(this.props.totalCount/4)===this.props.current?r.a.createElement(f.a,{variant:"contained",color:"primary",disabled:!0},"All users loaded"):r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){e.pagination()}},"Load more users")))}}]),a}(r.a.Component),Fe=Object(D.b)((function(e){return{allUsers:e.users.users,uid:e.authData.uid,followed:e.authData.followed,current:e.users.currentPage,totalCount:e.users.totalCount,lastItemId:e.users.lastItemId}}),(function(e){return{getU:function(t){e(function(e){return{type:"SET-USERS",data:e}}(t))},setCount:function(t){e(function(e){return{type:"SET-COUNT",data:e}}(t))},currentPage:function(t){e(function(e){return{type:"NEW-CURRENT",data:e}}(t))},lastQueryItem:function(t){e(function(e){return{type:"LAST-ITEM",data:e}}(t))}}}))(Re),Le="SET-FEED",We={feed:[]},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(U.a)(Object(U.a)({},e),{},{feed:Object(re.a)(t.data)});default:return e}},Ge=a(112),ze=a.n(Ge),qe=a(463),Ve=a(113),Ze=function(e){var t=Object(Ee.a)({cardBlock:{margin:"20px"}})(),a=e.date;return r.a.createElement(ie.a,{className:t.cardBlock,variant:"outlined"},r.a.createElement(qe.a,null,r.a.createElement(Ve.a,{variant:"body2",component:"p"},e.author&&r.a.createElement("span",{className:ze.a.apsn}," ",e.author),r.a.createElement("span",{className:ze.a.apsn},a.toDateString()),r.a.createElement("span",{className:ze.a.apsn},a.toLocaleTimeString("en-US"))),r.a.createElement(Ve.a,{variant:"h5",component:"h5"},e.message)))},Qe=function(e){var t=Object(b.g)(),a=function(e){var a=e;t.push(a)};return r.a.createElement("div",null,r.a.createElement("div",{className:ze.a.alertDiv},e.alert?r.a.createElement("p",null,"Follow users to see their last messages ",r.a.createElement("br",null)," ",r.a.createElement(f.a,{onClick:function(){a("users")},variant:"contained"},"Find users")," "):r.a.createElement("p",null,"You are following: ",e.followed.length," users"),!e.alert&&0===e.mess.length&&r.a.createElement("p",null,"Probably they dont have any  messages",r.a.createElement("br",null)," ",r.a.createElement(f.a,{onClick:function(){a("users")},variant:"contained"},"Find users"))),Array.isArray(e.mess)&&e.mess.sort((function(e,t){return t.timestamp-e.timestamp})).map((function(e){return r.a.createElement(Ze,{author:e.author,message:e.message,date:e.timestamp.toDate()})})))},Je=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={feedM:[],alert:!1},e}return Object(d.a)(a,[{key:"componentWillMount",value:function(){}},{key:"showFeed",value:function(){var e,t=this;(e=this.props.followed,pe().collection("userData").where(j.firestore.FieldPath.documentId(),"in",e).get()).then((function(e){e.docs.forEach((function(e){e.ref.collection("messages").orderBy("timestamp","desc").limit(2).get().then((function(a){e.data().avaUrl,e.data().email;t.setState((function(e){return{feedM:[].concat(Object(re.a)(e.feedM),Object(re.a)(a.docs.map((function(e){return e.data()}))))}}))}))}))}))}},{key:"componentDidMount",value:function(){0===this.props.followed.length?this.setState((function(e){return{alert:!0}})):this.showFeed()}},{key:"componentDidUpdate",value:function(e,t,a){e.followed!==this.props.followed&&0!==this.props.followed.length&&(this.setState((function(e){return{alert:!1}})),this.showFeed())}},{key:"render",value:function(){return r.a.createElement(Qe,Object.assign({},this.props,{mess:this.state.feedM,alert:this.state.alert}))}}]),a}(r.a.Component),Ke=Object(D.b)((function(e){return{allUsers:e.users.users,uid:e.authData.uid,followed:e.authData.followed}}),(function(e){return{getF:function(t){e(function(e){return{type:Le,data:e}}(t))}}}))(Je),Xe=a(475),$e=a(456),Ye=a(466),et=a(75),tt=a.n(et),at=a(175),nt=a.n(at),rt={play:!1,movePattern:[],score:0,showAnswer:!1,dimension:3,start:null,choose:!1},ot=function(e){return{type:"GAME-STATUS",payload:e}},lt=function(e){return{type:"MOVE",payload:e}},ct=function(e){return{type:"SHOW-ANSWER",payload:e}},it=function(e){return{type:"SET-START",payload:e}},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAME-STATUS":return Object(U.a)(Object(U.a)({},e),{},{play:t.payload});case"CHOOSE":return Object(U.a)(Object(U.a)({},e),{},{choose:t.payload});case"MOVE":return Object(U.a)(Object(U.a)({},e),{},{movePattern:t.payload});case"SCORE":return Object(U.a)(Object(U.a)({},e),{},{score:e.score+t.payload});case"SHOW-ANSWER":return Object(U.a)(Object(U.a)({},e),{},{showAnswer:t.payload});case"SET-DIMENSION":return Object(U.a)(Object(U.a)({},e),{},{dimension:t.payload});case"SET-START":return Object(U.a)(Object(U.a)({},e),{},{start:t.payload});default:return e}},ut=a(234),dt=a.n(ut),mt=a(235),pt=a.n(mt),ft=a(236),ht=a.n(ft),gt=a(237),bt=a.n(gt),Et=function(e,t){return e-t},vt=function(e,t){return e+t},Ot=function(e,t){return e+1},wt=function(e,t){return e-1};function jt(e,t,a){var n=["UP","DOWN","LEFT","RIGHT"];switch(e<=t&&(n=n.filter((function(e){return"UP"!==e}))),(e-1)%t!==0&&1!==e||(n=n.filter((function(e){return"LEFT"!==e}))),e%t===0&&(n=n.filter((function(e){return"RIGHT"!==e}))),e>t*t-t&&(n=n.filter((function(e){return"DOWN"!==e}))),n[Math.floor(Math.random()*n.length)]){case"UP":return a.push(r.a.createElement(dt.a,null)),Et(e,t);case"DOWN":return a.push(r.a.createElement(pt.a,null)),vt(e,t);case"LEFT":return a.push(r.a.createElement(ht.a,null)),wt(e,t);case"RIGHT":return a.push(r.a.createElement(bt.a,null)),Ot(e,t);default:alert("game ended on field ".concat(e))}}var yt=function(e){var t;var a=nt()(tt.a.block,(t={},Object(I.a)(t,tt.a.stblock,e.id===e.start),Object(I.a)(t,tt.a.answer,e.showAnswer&&e.id===e.answer),t));return r.a.createElement("button",{disabled:!e.choose,onClick:function(){e.showAnswerD(!0),e.id===e.answer?e.scored(100):e.scored(-100),e.chooseD(!1),e.gameStatusD(!1)},className:a},e.id===e.start?"Start":"")},St=function(e){var t=Object(n.useState)([]),a=Object(M.a)(t,2),o=a[0],l=a[1],c=Object(n.useRef)(o);return c.current=o,Object(n.useEffect)((function(){if(c.current=[],l([]),null!==e.start){var t=0;!function a(){l([].concat(Object(re.a)(c.current),[e.history[t]])),++t<e.history.length?setTimeout(a,500):e.chooseD(!0)}()}}),[e.start]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:tt.a.path},o.map((function(e,t){return r.a.createElement("div",{key:t},o[t])}))),r.a.createElement("p",{className:tt.a.text},"Rules: follow moves pattern in your mind and click on correct field to get points "))},_t=Object(D.b)((function(e){return{gameStatus:e.game.play,movePattern:e.game.movePattern,score:e.game.score,showAnswer:e.game.showAnswer,dimension:e.game.dimension,start:e.game.start,choose:e.game.choose}}),(function(e){return{gameStatusD:function(t){e(ot(t))},chooseD:function(t){e(function(e){return{type:"CHOOSE",payload:e}}(t))},startMove:function(t){e(lt(t))},scored:function(t){e({type:"SCORE",payload:t})},showAnswerD:function(t){e(ct(t))},setStartD:function(t){e(it(t))}}}))((function(e){var t,a=e.dimension,o=Array(a*a).fill(""),l=[],c=Object(n.useState)(null),i=Object(M.a)(c,2),s=i[0],u=i[1];Object(n.useEffect)((function(){if(e.gameStatus){var t=Math.floor(8*Math.random()+1);e.setStartD(t);for(var n=t,r=0;r<=9;++r)n=jt(n,a,l);u(n),e.startMove(l)}}),[e.gameStatus]);var d=nt()((t={},Object(I.a)(t,tt.a.big9,3===e.dimension),Object(I.a)(t,tt.a.big25,5===e.dimension),t));return r.a.createElement("div",null,r.a.createElement("div",{className:d},o.map((function(t,a){return r.a.createElement(yt,Object.assign({},e,{id:a+1,start:e.start,answer:s,key:a}))}))),r.a.createElement(St,{game:e.gameStatus,history:e.movePattern,start:e.start,answer:s,chooseD:e.chooseD}))})),kt=a(473),Dt=a(464),Ct=a(238),Ut=a.n(Ct),Nt=Object(D.b)((function(e){return{gameStatus:e.game.play,movePattern:e.game.movePattern,score:e.game.score,dimension:e.game.dimension,start:e.game.start,choose:e.game.choose}}),(function(e){return{gameStatusD:function(t){e(ot(t))},showAnswerD:function(t){e(ct(t))},toggle:function(t){e(ct(!1)),e(lt([])),e(function(e){return{type:"SET-DIMENSION",payload:e}}(t)),e(ot(!1)),e(it(null))}}}))((function(e){var t=r.a.useState("a"),a=Object(M.a)(t,2),o=a[0],l=a[1],c=function(e){l(e.target.value)};return Object(n.useEffect)((function(){return function(){e.toggle(3)}}),[]),r.a.createElement("div",{className:Ut.a.tac},r.a.createElement(Dt.a,{value:"end",control:r.a.createElement(kt.a,{checked:"a"===o,disabled:e.gameStatus,onChange:c,onClick:function(){return e.toggle(3)},value:"a",name:"radio-button-demo",inputProps:{"aria-label":"A"}}),label:"3x3"}),r.a.createElement(Dt.a,{value:"end",control:r.a.createElement(kt.a,{checked:"b"===o,disabled:e.gameStatus,onChange:c,onClick:function(){return e.toggle(5)},value:"b",name:"radio-button-demo",inputProps:{"aria-label":"B"}}),label:"5x5"}),r.a.createElement("p",null,"Score ",e.score),r.a.createElement(f.a,{disabled:e.gameStatus,variant:"contained",onClick:function(){e.gameStatusD(!0),e.showAnswerD(!1)},color:"secondary"},"Start New Game"))})),xt=a(239),Tt=a.n(xt),At=a(240),Mt=a.n(At),It=a(5),Bt=a(465),Pt=a(30),Rt=a(243),Ft=a.n(Rt),Lt=a(242),Wt=a.n(Lt),Ht=a(467),Gt=a(468),zt=a(469),qt=a(244),Vt=a.n(qt),Zt=a(245),Qt=a.n(Zt),Jt=a(241),Kt=a.n(Jt),Xt=Object(Ee.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(I.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(U.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),$t=function(){var e,t,a=Xt(),n=Object(Pt.a)(),o=r.a.useState(!1),l=Object(M.a)(o,2),c=l[0],i=l[1];return r.a.createElement(b.d,null,r.a.createElement("div",{className:ne.a.main},r.a.createElement("div",{className:a.root},r.a.createElement(Tt.a,null),r.a.createElement(Mt.a,{position:"fixed",className:Object(It.default)(a.appBar,Object(I.a)({},a.appBarShift,c))},r.a.createElement(Bt.a,null,r.a.createElement(je.a,{color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},edge:"start",className:Object(It.default)(a.menuButton,Object(I.a)({},a.hide,c))},r.a.createElement(Kt.a,null)),r.a.createElement(A,null))),r.a.createElement(Xe.a,{variant:"permanent",className:Object(It.default)(a.drawer,(e={},Object(I.a)(e,a.drawerOpen,c),Object(I.a)(e,a.drawerClose,!c),e)),classes:{paper:Object(It.default)((t={},Object(I.a)(t,a.drawerOpen,c),Object(I.a)(t,a.drawerClose,!c),t))}},r.a.createElement("div",{className:a.toolbar},r.a.createElement(je.a,{onClick:function(){i(!1)}},"rtl"===n.direction?r.a.createElement(Wt.a,null):r.a.createElement(Ft.a,null))),r.a.createElement(Ye.a,null),r.a.createElement($e.a,null,["Profile","Users","Feed","Game"].map((function(e,t){return r.a.createElement(B.b,{to:"/".concat(e.toLowerCase())},r.a.createElement(Ht.a,{button:!0,key:e},r.a.createElement(Gt.a,null,t%2===0?r.a.createElement(Vt.a,null):r.a.createElement(Qt.a,null)),r.a.createElement(zt.a,{primary:e})))}))),r.a.createElement(Ye.a,null))),r.a.createElement("div",{className:ne.a.body},r.a.createElement(b.b,{path:"/profile"},r.a.createElement(Te,null)),r.a.createElement(b.b,{path:"/users"},r.a.createElement(Fe,null)),r.a.createElement(b.b,{path:"/feed"},r.a.createElement(Ke,null)),r.a.createElement(b.b,{path:"/login"},r.a.createElement($,null)),r.a.createElement(b.b,{path:"/signup"},r.a.createElement($,null)),r.a.createElement(b.b,{path:"/game"},r.a.createElement(Nt,null),r.a.createElement(_t,null)))))};var Yt=Object(D.b)(null,{authThunk:T})((function(e){return j.auth().onAuthStateChanged(function(){var t=Object(s.a)(i.a.mark((function t(a){var n,r,o,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j.auth().currentUser){t.next=3;break}return e.authThunk(null,null,[]),t.abrupt("return");case 3:n=j.firestore(),r=j.auth().currentUser.uid,o=n.collection("userData").doc(r),l=j.auth().currentUser.email,o.get().then((function(t){if(t.exists)o.onSnapshot((function(t){var a=t.data().followed,n=t.data().status,o=t.data().avaUrl;e.authThunk(l,r,a,n,o)}));else{var a=j.auth().currentUser,n=[];o.set({email:a.email,uid:a.uid,followed:n,status:""}),e.authThunk(l,r,n,"")}}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),r.a.createElement(r.a.Fragment,null,r.a.createElement($t,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ea=a(24),ta=a(246),aa=a(477),na=Object(ea.c)({authData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH-ME":return Object(U.a)(Object(U.a)({},e),{},{login:t.login,uid:t.uid,followed:t.followed,status:t.status,avaUrl:t.avaUrl});case"NEW-AVA":return Object(U.a)(Object(U.a)({},e),{},{avaUrl:t.url});default:return e}},messages:le,users:me,feed:He,form:aa.a,game:st}),ra=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0})||ea.d,oa=Object(ea.e)(na,ra(Object(ea.a)(ta.a)));window.store=oa;var la=oa;j.initializeApp({apiKey:"AIzaSyArhJqkI1SecXZhxOC8FtiGulmeBBhcCtk",authDomain:"social-network-ae990.firebaseapp.com",databaseURL:"https://social-network-ae990.firebaseio.com",projectId:"social-network-ae990",storageBucket:"social-network-ae990.appspot.com",messagingSenderId:"1054678905809",appId:"1:1054678905809:web:7d3d4104dbcf1840dc66f0"}),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D.a,{store:la},r.a.createElement(B.a,null,r.a.createElement(Yt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,a){e.exports={text:"profile_text__2K8QF",content:"profile_content__3UEkz",status:"profile_status__3Cdz_",statusSpan:"profile_statusSpan__3zEHx",message:"profile_message__2rSvG",avaBlock:"profile_avaBlock__38Qke"}},75:function(e,t,a){e.exports={big25:"map_big25__3dUPH",block:"map_block__2c2fT",big9:"map_big9__1EP4x",stblock:"map_stblock__2D9Ts",path:"map_path__2le4u",answer:"map_answer__xZsuM",text:"map_text__3oVl6"}},83:function(e,t,a){e.exports={login:"login_login__2kTbk",heading:"login_heading__3odhs",button:"login_button__3lHhE"}},96:function(e,t,a){e.exports={login:"sign_login__3bicu",heading:"sign_heading__1I_25",button:"sign_button__1-gRw"}},97:function(e,t,a){e.exports={userCard:"allusers_userCard__3B1TQ",userWrap:"allusers_userWrap__2Z88B",paginButton:"allusers_paginButton__2UQRH",allU:"allusers_allU__kZaJT",info:"allusers_info__30Dz1",button:"allusers_button__10ALK"}}},[[262,1,2]]]);
//# sourceMappingURL=main.887c5933.chunk.js.map