{"version":3,"sources":["component/header.module.css","component/mainContent/mainCont.module.css","loader2.svg","UI/ui.module.css","component/header.jsx","api/axiosApi.js","store/reselect.js","component/headerReducer.js","component/headerContainer.jsx","component/loginPage/loginPage.js","component/profilePage/profileReduser.js","api/firestoreApi.js","component/profilePage/userProfile.js","component/allUsers/allUsersReducer.js","component/allUsers/allUsersPage.js","component/feed/feedReducer.js","component/feed/feedPage.js","map/gameReducer.js","gameEngine/gameApi.js","map/mapCOnt.js","UI/UIContainer.js","component/mainContent/mainContent.js","App.js","serviceWorker.js","store/store.js","index.js","component/profilePage/profile.module.css","map/map.module.css","component/loginPage/login.module.css","component/allUsers/allusers.module.css","component/feed/feed.module.css"],"names":["module","exports","Header","props","history","useHistory","routeChange","data","path","push","className","s","log","auth","style","cursor","login","onClick","logOut","Button","variant","authApi","axios","baseURL","withCredentials","firebase","signOut","then","console","currentUser","catch","error","email","password","signInWithEmailAndPassword","createUserWithEmailAndPassword","uid","authMee","state","authData","initialState","followed","status","avaUrl","HeaderContainer","this","Component","authThunk","dispatch","type","authAction","HeaderConnect","connect","dbInit","Alert","elevation","renderTextField","label","input","meta","touched","invalid","custom","TextField","floatingLabelText","helperText","renderPassField","minLength","value","length","validEmail","test","ReduxFormLogin","reduxForm","form","useState","stateFunc","handleSubmit","onSubmit","heading","location","Field","component","onChange","e","target","required","validate","id","name","marginBottom","width","autoComplete","disabled","disable","button","color","WithUrl","withRouter","errorF","disableF","values","a","authMethod","pathname","handleClose","event","reason","redirect","redirectFunc","useEffect","to","Snackbar","open","autoHideDuration","onClose","severity","messages","profileReducer","action","db","usersPagination","method1","queryCursor","start","collection","orderBy","startAfter","limit","get","docc","resp","docs","map","doc","sendMess","who","updateServerMess","text","docRef","add","message","timestamp","FieldValue","serverTimestamp","author","saveImage","file","method","methodErr","storRef","ref","Date","toDateString","child","put","snap","getDownloadURL","url","update","saveAva","Profile","updateMessage","errorT","limitMess","getM","mId","mData","showMess","prevProps","prevState","PureComponent","PureProfile","textFunc","statusF","editM","editF","tweet","tweetF","errorTF","avaError","errorAF","messEr","messEF","content","avaBlock","Avatar","height","src","slice","accept","display","files","addAvatar","htmlFor","marginLeft","autoFocus","onBlur","statusSpan","standard-error-helper-text","mess","Array","isArray","m","ava","toUpperCase","deleteM","delete","filter","CardMessage","classes","makeStyles","messBlock","margin","padding","useStyles","Card","Tooltip","title","IconButton","aria-label","getUserMeassages","init","users","currentPage","totalCount","lastItemId","allUsersReducer","AllUsers","userWrap","allUsers","userCard","includes","foll","arrayRemove","arrayUnion","AllContainer","setCount","size","getU","lastQueryItem","current","allU","info","Math","ceil","pagination","React","setAllUsers","setUsersCount","newCurrentPage","paginationLast","feed","isFetching","fetchingAC","feedReducer","cardBlock","current_datetime","date","CardContent","Typography","apsn","toLocaleTimeString","PureFeed","loader","alt","alertDiv","sort","b","toDate","FeedContainer","feedM","metod","where","FieldPath","documentId","snapshot","forEach","setFeed","err","feedArr","setState","showFeed","fetchingLoader","getF","initial","play","movePattern","score","showAnswer","dimension","choose","gameStatus","payload","move","setStart","gameRed","dim","game","moves","element","floor","random","alert","MapMini","btnGroupClasses","classNames","block","stblock","answer","showAnswerD","scored","chooseD","gameStatusD","Path","stateF","countRef","useRef","i","loop","setTimeout","el","key","startMove","setStartD","Dimension","arr","fill","answerF","big9","big25","ind","toggle","selectedValue","setSelectedValue","handleChange","tac","FormControlLabel","control","Radio","checked","inputProps","theme","root","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","marginRight","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","spacing","breakpoints","up","toolbar","alignItems","justifyContent","mixins","flexGrow","MainConetent","useTheme","setOpen","main","position","clsx","Toolbar","edge","Drawer","paper","direction","Divider","List","index","toLowerCase","ListItem","ListItemIcon","ListItemText","primary","body","fetchi","onAuthStateChanged","user","dataRef","exists","onSnapshot","set","Boolean","window","hostname","match","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunk","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9aaeea79.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"log\":\"header_log__OfSps\",\"login\":\"header_login__1JO4G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"mainCont_main__3IvGR\",\"body\":\"mainCont_body__wgyMv\"};","module.exports = __webpack_public_path__ + \"static/media/loader2.b4376d71.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tac\":\"ui_tac__4ZekT\"};","import React, {useState} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport  s from './header.module.css'\r\nimport { useHistory } from 'react-router-dom';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\nconst Header = (props) => {\r\n\r\n    let history = useHistory();\r\n    const routeChange=(data)=> {\r\n        let path = data;\r\n\r\n        history.push(path);\r\n    }\r\n    return (\r\n\r\n\r\n            <div className={s.log}>\r\n                    { props.auth ? <>Hi, {props.auth}<ExitToAppIcon style={{cursor:'pointer'}} className={s.login} onClick={props.logOut}/></>\r\n                        : <><Button onClick={() =>{routeChange('login')}} variant=\"contained\">LogIn</Button>\r\n                        <Button onClick={() =>{routeChange('signup')}} variant=\"contained\">SignUp</Button></>\r\n                    }\r\n                </div>\r\n\r\n\r\n\r\n    )\r\n}\r\nexport default Header","import * as axios from 'axios'\r\nimport * as firebase from 'firebase';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n})\r\n\r\nexport const authApi = {\r\n    authMe (){\r\n\r\n    },\r\n    logOut(){\r\n        firebase.auth().signOut().then(() =>console.log( firebase.auth().currentUser))\r\n            .catch(function(error) {\r\n\r\n                console.log(error);\r\n            });\r\n    },\r\n    logIn(email, password){\r\n        return firebase.auth().signInWithEmailAndPassword(email, password)\r\n\r\n    },\r\n    singUp(email, password){\r\n        const auth = firebase.auth()\r\n        return auth.createUserWithEmailAndPassword(email, password)\r\n    },\r\n    signInit(uid){\r\n/*\r\n        if ( !uid) return\r\n        var user = firebase.auth().currentUser;\r\n        var db = firebase.firestore()\r\n        debugger\r\n        db.collection(\"userData\").doc(uid).set({\r\n\r\n            email: user.email,\r\n            uid: user.uid,\r\n            followed: [],\r\n            status: '',\r\n\r\n        })\r\n            .then(function() {\r\n\r\n                console.log(\"Document successfully written!\");\r\n                debugger\r\n            })\r\n            .catch(function(error) {\r\n                debugger\r\n                console.error(\"Error writing document: \", error);\r\n            });*/\r\n\r\n\r\n\r\n    }\r\n}","\r\n\r\n\r\nexport const authMee = (state) =>{\r\n    return state.authData.login\r\n}","const authMe='AUTH-ME'\r\nconst newAva='NEW-AVA'\r\nconst initialState = {\r\n\r\n        login: null,\r\n        uid: null,\r\n        followed: [],\r\n        status: null,\r\n        avaUrl:null\r\n\r\n}\r\n\r\nexport const headerReducer = (state = initialState, action) =>{\r\n    switch (action.type) {\r\n        case authMe:\r\n            return {...state, login: action.login, uid: action.uid, followed: action.followed,\r\n                status: action.status,\r\n                avaUrl: action.avaUrl\r\n            }\r\n        case newAva:\r\n            return {...state, avaUrl: action.url}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const authAction = (login, uid,followed,status,avaUrl) =>{\r\n    return {type: authMe, login, uid,followed,status,avaUrl}\r\n}\r\nexport const avaAdd = (url) =>{\r\n    return {type: newAva, url}\r\n}\r\n\r\n","import React, {Component} from \"react\";\r\nimport Header from \"./header\";\r\nimport {authApi} from \"../api/axiosApi\";\r\nimport {connect} from \"react-redux\";\r\nimport {authMee} from \"../store/reselect\";\r\nimport {authAction} from \"./headerReducer\";\r\n\r\n\r\n\r\n\r\nclass HeaderContainer extends Component{\r\n\r\n    render() {\r\n\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps =(state) =>{\r\n    return{\r\n        auth: authMee(state)\r\n    }\r\n}\r\n\r\nexport const authThunk = (login,uid,followed,status,avaUrl) =>{\r\n\r\n    return (dispatch) =>{\r\n        dispatch(authAction(login,uid,followed,status,avaUrl))\r\n    }\r\n}\r\nconst logOut = () =>{\r\n\r\n    return (dispatch) =>{\r\n        authApi.logOut()\r\n\r\n    }\r\n}\r\n\r\nconst dbInit = (uid) =>{\r\n\r\n    return (dispatch) =>{\r\n        authApi.signInit(uid)\r\n\r\n\r\n    }\r\n}\r\nexport const HeaderConnect = connect(mapStateToProps, {authThunk,logOut,dbInit})(HeaderContainer)","import React, {useEffect, useState} from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport s from './login.module.css'\r\nimport {authApi} from \"../../api/axiosApi\";\r\nimport {connect} from \"react-redux\";\r\nimport {authThunk} from \"../headerContainer\";\r\n\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\n\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport const renderTextField = ({\r\n                                    label,\r\n                                    input,\r\n                                    meta: {touched, invalid, error},\r\n                                    ...custom\r\n                                }) => (\r\n\r\n    <TextField\r\n        label={label}\r\n        floatingLabelText={label}\r\n        error={touched && invalid}\r\n        helperText={touched && error}\r\n        {...input}\r\n        {...custom}\r\n    />\r\n\r\n)\r\nexport const renderPassField = ({\r\n                                    label,\r\n                                    input,\r\n                                    meta: {touched, invalid, error},\r\n                                    ...custom\r\n                                }) => (\r\n    <TextField label={label}\r\n               floatingLabelText={label}\r\n               error={touched && invalid}\r\n               helperText={touched && error}\r\n               {...input}\r\n               {...custom}\r\n    />\r\n)\r\nexport const minLength = (value) => {\r\n\r\n    if (value && value.length < 6) return 'Min length 6'\r\n    return undefined\r\n\r\n}\r\nexport const validEmail = (email) => {\r\n\r\n    if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(email)) return 'Not Valid Email'\r\n    return undefined\r\n\r\n}\r\n\r\n\r\nconst SimpleForm = (props) => {\r\n\r\n    const [state, stateFunc] = useState('')\r\n\r\n\r\n    function seting(e) {\r\n\r\n        stateFunc(e.target.value)\r\n    }\r\n\r\n    const {handleSubmit} = props\r\n\r\n\r\n    return (\r\n        <form className={s.login} onSubmit={handleSubmit}>\r\n            <p className={s.heading}>{props.location === '/login' ? 'Log In' : 'Sign Up'}</p>\r\n\r\n\r\n            <Field component={renderTextField} label=\"Email Address\" onChange={seting} value={state}\r\n                   className={s.input}\r\n                   required\r\n                   validate={[validEmail]}\r\n                   id=\"outlined-required\"\r\n                   name='email'\r\n\r\n                   variant=\"outlined\"\r\n\r\n                   style={{marginBottom: \"20px\", width: \"80%\"}}\r\n            /><Field component={renderPassField}\r\n                     label=\"Password\"\r\n                     className={s.input}\r\n                     required\r\n                     validate={[minLength]}\r\n                     id=\"outlined-required\"\r\n                     name='password'\r\n                     type=\"password\"\r\n\r\n                     autoComplete=\"current-password\"\r\n                     variant=\"outlined\"\r\n                     style={{marginBottom: \"20px\", width: \"80%\"}}\r\n        />\r\n\r\n            {props.location === '/login'\r\n                ? <Button disabled={props.disable} className={s.button} type='submit' variant=\"contained\"\r\n                          color=\"primary\">LogIn</Button>\r\n                : <Button disabled={props.disable} className={s.button} variant=\"outlined\" type='submit'\r\n                          color=\"secondary\">SignUp</Button>}\r\n\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\nconst Login = (props) => {\r\n    let [error, errorF] = useState(null)\r\n    let [disable, disableF] = useState(false)\r\n\r\n\r\n    async function submit(values) {\r\n        let authMethod = () => {\r\n            if (props.location.pathname === '/signup') {\r\n                return authApi.singUp(values.email, values.password)\r\n            } else if (props.location.pathname === '/login') {\r\n                return authApi.logIn(values.email, values.password)\r\n            }\r\n        }\r\n\r\n        disableF(true)\r\n        authMethod().then(() => {\r\n            disableF(false)\r\n            /*  console.log(firebase.auth().currentUser)*/\r\n        })\r\n            .catch((error) => {\r\n                errorF(true)\r\n                disableF(false)\r\n                console.log(error);\r\n            });\r\n\r\n    }\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        errorF(false);\r\n    };\r\n    const [redirect, redirectFunc] = useState(false)\r\n    useEffect(() => {\r\n        if (!props.login) return\r\n        redirectFunc(true)\r\n        /*console.log('dum')*/\r\n\r\n\r\n    }, [props.login])\r\n\r\n    if (redirect) {\r\n\r\n        return (<Redirect to={'/profile'}/>)\r\n    } else {\r\n        return (\r\n            <div>\r\n                <Snackbar open={error} autoHideDuration={4000} onClose={handleClose}>\r\n                    <Alert onClose={handleClose} severity=\"error\">\r\n                        Invalid email or password\r\n                    </Alert>\r\n                </Snackbar>\r\n\r\n                <ReduxFormLogin onSubmit={submit} disable={disable} location={props.location.pathname}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet ReduxFormLogin = reduxForm({\r\n    form: 'simple' // a unique identifier for this form\r\n})(SimpleForm)\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        login: state.authData.login\r\n    }\r\n}\r\nlet WithUrl = withRouter(Login)\r\n\r\nexport default connect(mapStateToProps, {authThunk})(WithUrl)","\r\nconst setMessage = 'SET-MESSAGE'\r\n\r\nconst initialState ={\r\n    messages: 'asd'\r\n}\r\n\r\n\r\nconst profileReducer = (state=initialState,action) =>{\r\n    switch (action.type) {\r\n        case setMessage:\r\n            return{\r\n                ...state,\r\n                messages: [...action.data]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const getUserMeassages = (data) => ({type:setMessage,data})\r\n\r\n\r\nexport default profileReducer","import * as firebase from \"firebase\";\r\n\r\n\r\nlet db = ()=>{return firebase.firestore()}\r\n\r\nexport const allUsersSize= (method)=>{\r\n\r\n    db().collection(\"userData\").get().then(snap=> method(snap.size))\r\n}\r\nexport const usersPagination= (method1,queryCursor,start=1)=>{\r\n\r\n\r\n\r\n    db().collection(\"userData\").orderBy('uid').startAfter(start).limit(4).get()\r\n        .then(docc =>{\r\n            let resp = docc.docs.map(doc =>  doc.data())\r\n            /*console.log(resp)*/\r\n\r\n            method1(resp)\r\n            if(docc.docs.length === 0){\r\n                queryCursor(docc.docs[docc.docs.length].data().uid)\r\n            }\r\n            else{\r\n                queryCursor(docc.docs[docc.docs.length-1].data().uid)\r\n            }\r\n\r\n\r\n        })\r\n}\r\n\r\nexport const getFeed= (who,metod)=>{\r\n\r\n    metod(true)\r\n    return db().collection(\"userData\")\r\n        .where(firebase.firestore.FieldPath.documentId() , 'in',who\r\n        )\r\n        .get()\r\n}\r\n\r\nexport const getProfileM= (who)=>{\r\n\r\n    return db().collection(\"userData\").doc(who).collection('messages')\r\n        .get()\r\n}\r\nexport const sendMess = (who)=>{\r\n\r\n    return db().collection(\"userData\").doc(who).collection('messages').get()\r\n}\r\nexport const updateServerMess = (text,who,email)=>{\r\n\r\n    let docRef= db().collection(\"userData\").doc(who).collection('messages')\r\n    docRef.add({message: text,timestamp:firebase.firestore.FieldValue.serverTimestamp(), author:email})\r\n    return docRef.orderBy(\"timestamp\", \"desc\").get()\r\n\r\n\r\n}\r\nexport const saveAva = (who,url)=>{\r\n\r\n    let docRef= db().collection(\"userData\").doc(who)\r\n    docRef.update({avaUrl: url})\r\n\r\n\r\n\r\n}\r\n\r\nexport const saveImage = (file,who,method, methodErr)=>{\r\n\r\n    let storRef= firebase.storage().ref()\r\n    let name = new Date().toDateString() + file.name\r\n    storRef.child(name).put(file)\r\n        .then((snap)=> {\r\n            return snap.ref.getDownloadURL()\r\n        })\r\n        .then((url)=> {\r\n            saveAva(who, url) //to server\r\n\r\n            method(url) // save to props via callback\r\n\r\n            /*console.log('succ',url, )*/})\r\n                .catch((error) => methodErr(true))\r\n\r\n\r\n\r\n}\r\n\r\n","import React, {PureComponent, useEffect, useState} from \"react\";\r\nimport {getUserMeassages} from \"./profileReduser\";\r\nimport {connect} from \"react-redux\";\r\nimport * as firebase from \"firebase\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport s from './profile.module.css'\r\nimport {getProfileM, saveImage, sendMess, updateServerMess} from \"../../api/firestoreApi\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport {avaAdd} from \"../headerReducer\";\r\nimport AddAPhotoOutlinedIcon from '@material-ui/icons/AddAPhotoOutlined';\r\nimport Snackbar from \"@material-ui/core/Snackbar/Snackbar\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nexport const renderPassField = ({\r\n                                    label,\r\n                                    input,\r\n                                    meta: {touched, invalid, error},\r\n                                    ...custom\r\n                                }) => (\r\n    <TextField label={label}\r\n               floatingLabelText={label}\r\n               error={touched && invalid}\r\n               helperText={touched && error}\r\n               {...input}\r\n               {...custom}\r\n    />\r\n)\r\n\r\nclass Profile extends PureComponent {\r\n    showMess() {\r\n        getProfileM(this.props.uid).then(docc => {\r\n            this.props.getM(docc.docs.map(doc => ({\r\n                    mId: doc.id, mData: doc.data()\r\n                }))\r\n            )\r\n        })\r\n    }\r\n\r\n    updateMessage = (text, method, disable, error, errorT, limitMess) => {\r\n        if (text.length < 5) {\r\n            error(true)\r\n            errorT('Dont be shy=)')\r\n            return\r\n        }\r\n        errorT('')\r\n        error(false)\r\n        method('')\r\n\r\n        limitMess(false)\r\n        sendMess(this.props.uid).then(docc => {\r\n            if (docc.docs.map(doc => doc.data()).length === 5) {\r\n                /*console.log(docc.docs.map(doc =>  ({mId:doc.id, mData: doc.data()})))*/\r\n                limitMess(true)\r\n                disable(true)\r\n                return\r\n            } else {\r\n                updateServerMess(text, this.props.uid, this.props.login)\r\n                    .then(docc => {\r\n                        this.props.getM(docc.docs.map(doc => ({mId: doc.id, mData: doc.data()})))\r\n                        disable(false)\r\n                    })\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.props.uid) return\r\n        this.showMess()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (!this.props.uid) return\r\n        if (prevProps.uid !== this.props.uid) {\r\n            this.showMess()\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <PureProfile {...this.props} updateMessage={this.updateMessage}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst PureProfile = (props) => {\r\n    let [text, textFunc] = useState('')\r\n    let [status, statusF] = useState(props.status)\r\n    let [editM, editF] = useState(false)\r\n    let [tweet, tweetF] = useState(false)\r\n    let [error, errorF] = useState(false)\r\n    let [errorT, errorTF] = useState('')\r\n    let [avaError, errorAF] = useState(false)\r\n    let [messEr, messEF] = useState(false)\r\n\r\n    function deleteM(id) {\r\n        var db = firebase.firestore()\r\n        tweetF(false)\r\n        var docRef = db.collection(\"userData\").doc(props.uid).collection('messages')\r\n        docRef.doc(id).delete().then(function () {\r\n            props.getM(props.messages.filter(m => m.mId !== id))\r\n            console.log(\"Document successfully deleted!\",);\r\n        }).catch(function (error) {\r\n            console.error(\"Error removing document: \", error);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!props.status) return\r\n        statusF(props.status)\r\n    }, [props.status])\r\n\r\n    const some = (e) => {\r\n        textFunc(e.target.value)\r\n    }\r\n    const some2 = (e) => {\r\n        statusF(e.target.value)\r\n    }\r\n    const some3 = () => {\r\n        var db = firebase.firestore()\r\n        db.collection(\"userData\").doc(props.uid).update({\r\n            status: status\r\n        })\r\n        editF(false)\r\n\r\n    }\r\n    const upload = (e) => {\r\n        saveImage(e.target.files[0], props.uid, props.addAvatar, errorAF)\r\n        console.log(e.target.files[0])\r\n    }\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        errorAF(false);\r\n        messEF(false)\r\n    };\r\n\r\n    if (props.login == null) return <Redirect to={'/login'}/>\r\n\r\n    return (\r\n        <div className={s.content}>\r\n            <Snackbar open={avaError} autoHideDuration={4000} onClose={handleClose}>\r\n                <Alert onClose={handleClose} severity=\"error\">\r\n                    {'Only images allowed size < 50KB'}\r\n                </Alert>\r\n            </Snackbar>\r\n            <Snackbar open={messEr} autoHideDuration={4000} onClose={handleClose}>\r\n                <Alert onClose={handleClose} severity=\"error\">\r\n                    {'5 messages limit'}\r\n                </Alert>\r\n            </Snackbar>\r\n\r\n            <div>\r\n                <div className={s.avaBlock}>\r\n                    {props.avaUrl\r\n                        ? <Avatar style={{width: '90px', height: '90px'}} src={props.avaUrl}/>\r\n                        : <Avatar style={{width: '40px',}}>{props.login && props.login.slice(0, 2)}</Avatar>\r\n                    }\r\n                    <input\r\n                        accept=\"image/*\"\r\n\r\n                        style={{display: 'none'}}\r\n                        id=\"raised-button-file\"\r\n                        onChange={upload}\r\n                        type=\"file\"\r\n                    />\r\n                    <label htmlFor=\"raised-button-file\">\r\n                        <Button component=\"span\" color=\"secondary\">\r\n                            <AddAPhotoOutlinedIcon/>\r\n                        </Button>\r\n                    </label>\r\n                </div>\r\n                <div className={s.status}>\r\n                    <span>Status:</span>\r\n                    {editM ?\r\n                        <TextField\r\n                            style={{marginLeft: \"20px\"}}\r\n                            id=\"standard-basic\"\r\n\r\n                            value={status}\r\n                            autoFocus={true}\r\n                            onChange={some2}\r\n                            onBlur={some3}\r\n\r\n                        />\r\n\r\n                        : <span className={s.statusSpan}>{status}\r\n                            <span onClick={() => editF(true)}><EditIcon color=\"secondary\" style={{cursor: \"pointer\"}}/></span></span>\r\n                    }</div>\r\n            </div>\r\n            <div className={s.text}>\r\n\r\n\r\n                <TextField error={error} helperText={errorT} style={{width: '90%'}} standard-error-helper-text\r\n                           label=\"What`s going on?\" onChange={some}\r\n                           value={text}/>\r\n\r\n                <br/>\r\n                <Button disabled={tweet}\r\n                        onClick={() => props.updateMessage(text, textFunc, tweetF, errorF, errorTF, messEF)}\r\n                        variant=\"contained\" color=\"primary\">\r\n                    Tweet\r\n                </Button>\r\n            </div>\r\n            <div className={s.mess}>\r\n                {Array.isArray(props.messages) &&\r\n                props.messages.map(m => (<CardMessage message={m.mData.message} avaUrl={props.avaUrl}\r\n                                                      ava={props.login && props.login.slice(0, 2).toUpperCase()}\r\n                                                      deleteM={() => deleteM(m.mId)}/>\r\n                ))}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CardMessage = (props) => {\r\n\r\n    const useStyles = makeStyles({\r\n        messBlock: {\r\n            margin: '20px',\r\n            padding: \"40px 15px\",\r\n            display: \"flex\",\r\n        },\r\n    });\r\n    const classes = useStyles()\r\n\r\n\r\n    return (\r\n        <Card className={classes.messBlock} variant=\"outlined\">\r\n\r\n            {props.avaUrl\r\n                ? <Avatar style={{width: '40px',}} src={props.avaUrl}/>\r\n                : <Avatar style={{width: '40px',}}>{props.ava}</Avatar>\r\n            }\r\n\r\n            <div className={s.message}>\r\n                <p>{props.message}</p>\r\n                <Tooltip onClick={props.deleteM} title=\"Delete\">\r\n                    <IconButton aria-label=\"delete\">\r\n                        <DeleteIcon/>\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n            </div>\r\n\r\n\r\n        </Card>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        messages: state.messages.messages,\r\n        uid: state.authData.uid,\r\n        status: state.authData.status,\r\n        login: state.authData.login,\r\n        avaUrl: state.authData.avaUrl,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getM: (data) => dispatch(getUserMeassages(data)),\r\n        addAvatar: (data) => dispatch(avaAdd(data))\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile)","const setUsers='SET-USERS'\r\nconst count='SET-COUNT'\r\nconst current='NEW-CURRENT'\r\nconst lastItem='LAST-ITEM'\r\n\r\nconst init={\r\n    users:[],\r\n    currentPage: 1,\r\n    totalCount: null,\r\n    lastItemId: null\r\n}\r\n\r\nconst allUsersReducer = (state=init,action)=>{\r\n    switch (action.type) {\r\n        case setUsers:\r\n            return{\r\n                ...state,\r\n                users:[...state.users,...action.data]\r\n            }\r\n        case count:\r\n        return{\r\n            ...state,\r\n            totalCount:action.data\r\n        }\r\n        case current:\r\n        return{\r\n            ...state,\r\n            currentPage:action.data\r\n        }\r\n        case lastItem:\r\n        return{\r\n            ...state,\r\n            lastItemId:action.data\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const setAllUsers = (data)=>({type:setUsers, data})\r\nexport const setUsersCount = (data)=>({type:count, data})\r\nexport const newCurrentPage = (data)=>({type:current, data})\r\nexport const paginationLast = (data)=>({type:lastItem, data})\r\nexport default allUsersReducer\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {newCurrentPage, paginationLast, setAllUsers, setUsersCount} from \"./allUsersReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport * as firebase from \"firebase\";\r\nimport s  from \"./allusers.module.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport {allUsersSize, usersPagination} from \"../../api/firestoreApi\";\r\nimport Snackbar from \"@material-ui/core/Snackbar/Snackbar\";\r\nimport Alert from \"@material-ui/lab/Alert/Alert\";\r\n\r\n\r\n\r\nconst AllUsers =(props)=>{\r\n    let [disable, disableF] = useState(false)\r\n    let [error, errorF] = useState(false)\r\n    function follow(e,foll,) {\r\n        if(props.followed.length >=3){\r\n            errorF(true)\r\n            return\r\n        }\r\n        errorF(false)\r\n        var db = firebase.firestore()\r\n        db.collection(\"userData\").doc(props.uid).update({\r\n            followed: firebase.firestore.FieldValue.arrayUnion(foll)\r\n        })\r\n    }\r\n    function unfollow(foll) {\r\n        var db = firebase.firestore()\r\n        db.collection(\"userData\").doc(props.uid).update({\r\n            followed: firebase.firestore.FieldValue.arrayRemove(foll)\r\n        }).then(()=>{\r\n\r\n            /*console.log(props.allUsers.filter(obj => {\r\n                return obj.uid === foll\r\n            }))*/\r\n        })\r\n    }\r\n\r\n   /* useEffect(()=>{\r\n        if( !props.totalCount)return\r\n        let pagination =[1,1,1,1,]\r\n        let arr = pagination.map(m=>m\r\n            )\r\n        console.log(arr)\r\n\r\n    },[props.totalCount])*/\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        errorF(false);\r\n    };\r\n    return(\r\n        <>\r\n          {/*  <div>{props.totalCount &&  pagination.map((m,ind)=> <button\r\n                key={ind} disabled={ind+1 === props.current}\r\n                onClick={()=> props.currentPage(ind+1)}\r\n                className={s.paginButton}>{ind+1}</button>)}</div>*/}\r\n            <Snackbar open={error} autoHideDuration={4000} onClose={handleClose}>\r\n                <Alert onClose={handleClose} severity=\"error\">\r\n                    {'Max 3 users to follow'}\r\n                </Alert>\r\n            </Snackbar>\r\n\r\n        <div className={s.userWrap}>\r\n\r\n            {props.allUsers.map(m=>\r\n                <div className={s.userCard}>\r\n                    {m.avaUrl ? <Avatar  src={m.avaUrl}/>\r\n                        :<Avatar>{m.email && m.email.slice(0,2).toUpperCase()}</Avatar> }\r\n\r\n                    <p>{m.email}</p>\r\n                    {/*{m.status && <span>{m.status}</span> }*/}\r\n                    {props.followed && props.followed.includes(m.uid)\r\n                    ? <Button onClick={()=>unfollow(m.uid)}\r\n                              variant=\"contained\"\r\n                              color=\"secondary\">\r\n                        UnFollow</Button>\r\n                    : <Button disabled={props.uid ? m.uid==props.uid : true } onClick={(e)=>follow(e,m.uid)}\r\n                              variant=\"contained\"\r\n                              color=\"primary\">\r\n                        Follow</Button> }\r\n            </div>)}\r\n        </div>\r\n            </>\r\n    )\r\n}\r\n\r\nclass AllContainer extends React.Component{\r\n    componentDidMount() {\r\n        if(!this.props.totalCount){\r\n            allUsersSize(this.props.setCount)\r\n            usersPagination(this.props.getU, this.props.lastQueryItem)\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n   /* componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.current !== this.props.current) {\r\n            usersPagination(this.props.current,this.props.getU)\r\n        }\r\n    }*/\r\n   pagination(){\r\n       usersPagination(this.props.getU, this.props.lastQueryItem,this.props.lastItemId)\r\n       this.props.currentPage(this.props.current+1)\r\n   }\r\n\r\n    render() {\r\n       return(\r\n           <div className={s.allU}>\r\n            <div className={s.info}>Registerted users : {this.props.totalCount}</div>\r\n\r\n\r\n           <AllUsers  {...this.props}/>\r\n           <div className={s.button}>\r\n               {Math.ceil(this.props.totalCount/4) === this.props.current\r\n                   ?<Button variant=\"contained\"  color=\"primary\" disabled={true}>All users loaded</Button>\r\n                   :<Button  variant=\"contained\"  color=\"primary\" onClick={()=>{ this.pagination()}}>Load more users</Button>}\r\n           </div>\r\n           </div>\r\n       )\r\n    }\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n    return{\r\n        allUsers: state.users.users,\r\n        uid: state.authData.uid,\r\n        followed: state.authData.followed,\r\n        current: state.users.currentPage,\r\n        totalCount: state.users.totalCount,\r\n        lastItemId: state.users.lastItemId,\r\n    }\r\n}\r\nconst mapDispatchToProps=(dispatch)=>{\r\n    return{\r\n        getU(data){dispatch(setAllUsers(data))},\r\n        setCount(data){dispatch(setUsersCount(data))},\r\n        currentPage(data){dispatch(newCurrentPage(data))},\r\n        lastQueryItem(data){dispatch(paginationLast(data))}\r\n    }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(AllContainer)","const feed = 'SET-FEED'\r\nconst isFetching = 'LOADER'\r\n\r\n\r\nconst init = {\r\n    feed: [],\r\n    isFetching: false,\r\n}\r\n\r\nconst feedReducer = (state = init, action) => {\r\n    switch (action.type) {\r\n        case feed:\r\n            return {\r\n                ...state,\r\n                feed: [...action.data]\r\n            }\r\n        case isFetching:\r\n            return {\r\n                ...state,\r\n                isFetching: action.data\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const setFeed = (data) => ({type: feed, data})\r\nexport const fetchingAC = (data) => ({type: isFetching, data})\r\nexport default feedReducer\r\n","import React from \"react\";\r\n\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {fetchingAC, setFeed} from \"./feedReducer\";\r\nimport s from \"./feed.module.css\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {getFeed} from \"../../api/firestoreApi\";\r\nimport {makeStyles, withStyles} from '@material-ui/core/styles';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {Redirect, useHistory} from 'react-router-dom';\r\nimport loader from \"./../../loader2.svg\";\r\n\r\n\r\n\r\nexport const CardMessage = (props) => {\r\n    const useStyles = makeStyles({\r\n        cardBlock: {\r\n            margin: '20px',\r\n        },\r\n    });\r\n    const classes = useStyles()\r\n    let current_datetime = props.date\r\n\r\n\r\n    return (\r\n        <Card className={classes.cardBlock} variant=\"outlined\">\r\n            <CardContent>\r\n                <Typography variant=\"body2\" component=\"p\">\r\n                    {props.author && <span className={s.apsn}> {props.author}</span>}\r\n                    <span className={s.apsn}>{current_datetime.toDateString()}</span>\r\n                    <span className={s.apsn}>{current_datetime.toLocaleTimeString('en-US')}</span>\r\n\r\n                </Typography>\r\n                <Typography variant=\"h5\" component=\"h5\">\r\n\r\n                    {props.message}\r\n                </Typography>\r\n\r\n            </CardContent>\r\n\r\n        </Card>\r\n    )\r\n}\r\n\r\nconst PureFeed = (props) => {\r\n    let history = useHistory();\r\n    const routeChange = (data) => {\r\n        let path = data;\r\n\r\n        history.push(path);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {props.isFetching ? <div className={s.loader}><img src={loader} alt=\"\"/></div>\r\n                : <div>\r\n\r\n                    <div className={s.alertDiv}>{props.mess.length !== 0\r\n                        ? <p>You are following: {props.followed.length} users</p>\r\n                        : <p>Follow users to see their last messages <br/> <Button onClick={() => {\r\n                            routeChange('users')\r\n                        }} variant=\"contained\">Find users</Button></p>\r\n                    }\r\n                        {/*{props.mess.length === 0 && <p>Probably they dont have any messages\r\n                            <br/> <Button onClick={() => {\r\n                                routeChange('users')\r\n                            }} variant=\"contained\">Find users</Button></p>}*/}\r\n                    </div>\r\n\r\n                    {Array.isArray(props.mess) && props.mess.sort((a, b) => b.timestamp - a.timestamp).map(m => (\r\n                        <CardMessage\r\n                            author={m.author} message={m.message} date={m.timestamp.toDate()}/>))}\r\n\r\n\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nclass FeedContainer extends React.Component {\r\n    state = {\r\n        feedM: [],\r\n\r\n    }\r\n\r\n\r\n    showFeed(method) {\r\n        /*  this.toggleLoader()*/\r\n        getFeed(this.props.followed, method).then(snapshot => {\r\n            /*console.log(snapshot.docs.map(m=>m.data()))*/\r\n\r\n            console.log('some')\r\n            snapshot.docs.forEach(doc => {\r\n                doc.ref.collection(\"messages\").orderBy(\"timestamp\", \"desc\").limit(2).get()\r\n                    .then(docc => {\r\n                        /*console.log( doc.data())*/\r\n                        /* this.toggleLoader()*/\r\n                        this.setFeed(docc.docs)\r\n                        method(false)\r\n\r\n                    }).catch(err => method(false))\r\n            })\r\n        })\r\n    }\r\n\r\n    setFeed(feedArr) {\r\n        this.setState((state) => {\r\n            return {\r\n                feedM: [...state.feedM, ...feedArr.map(m => m.data())]\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        if (this.props.followed.length === 0) return\r\n        this.showFeed(this.props.fetchingLoader)\r\n\r\n    }\r\n\r\n    /* shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n         if(this.props.followed !== nextProps.followed ){\r\n             return true\r\n         }\r\n         else{\r\n             return false\r\n         }\r\n     }*/\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.followed !== this.props.followed) {\r\n            if (this.props.followed.length === 0) return\r\n            this.showFeed(this.props.fetchingLoader)\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n                <PureFeed {...this.props} mess={this.state.feedM}/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        allUsers: state.users.users,\r\n        uid: state.authData.uid,\r\n        followed: state.authData.followed,\r\n        isFetching: state.feed.isFetching\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getF(data) {\r\n            dispatch(setFeed(data))\r\n        },\r\n        fetchingLoader(data) {\r\n            dispatch(fetchingAC(data))\r\n        }\r\n\r\n    }\r\n}\r\nexport const fetchi = (data)=>{\r\n    return (dispatch) =>{\r\n        dispatch(dispatch(fetchingAC(data)))\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FeedContainer)","const initial = {\r\n    play:false,\r\n    movePattern: [],\r\n    score: 0,\r\n    showAnswer: false,\r\n    dimension: 3,\r\n    start: null,\r\n    choose:false\r\n\r\n}\r\n\r\n\r\nconst gameRed = (state=initial, action)=>{\r\n    switch (action.type) {\r\n        case 'GAME-STATUS':\r\n            return {\r\n                ...state,\r\n                play: action.payload\r\n            }\r\n            case 'CHOOSE':\r\n            return {\r\n                ...state,\r\n                choose: action.payload\r\n            }\r\n        case 'MOVE':\r\n            return {\r\n                ...state,\r\n                movePattern: action.payload\r\n            }\r\n        case 'SCORE':\r\n            return {\r\n                ...state,\r\n                score: state.score +action.payload\r\n            }\r\n\r\n            case 'SHOW-ANSWER':\r\n            return {\r\n                ...state,\r\n                showAnswer: action.payload\r\n            }\r\n            case 'SET-DIMENSION':\r\n            return {\r\n                ...state,\r\n                dimension: action.payload\r\n            }\r\n            case 'SET-START':\r\n            return {\r\n                ...state,\r\n                start: action.payload\r\n            }\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\nexport const gameStatus =(data)=>{\r\n    return{\r\n        type: 'GAME-STATUS',\r\n        payload: data,\r\n    }\r\n}\r\nexport const move =(data)=>{\r\n    return{\r\n        type: 'MOVE',\r\n        payload: data,\r\n    }\r\n}\r\n\r\nexport const score =(much)=>{\r\n    return{\r\n        type: 'SCORE',\r\n        payload: much,\r\n    }\r\n}\r\n\r\nexport const showAnswer =(data)=>{\r\n    return{\r\n        type: 'SHOW-ANSWER',\r\n        payload: data,\r\n    }\r\n}\r\nexport const dimension =(data)=>{\r\n    return{\r\n        type: 'SET-DIMENSION',\r\n        payload: data,\r\n    }\r\n}\r\nexport const choose =(data)=>{\r\n    return{\r\n        type: 'CHOOSE',\r\n        payload: data,\r\n    }\r\n}\r\nexport const setStart =(data)=>{\r\n    return{\r\n        type: 'SET-START',\r\n        payload: data,\r\n    }\r\n}\r\nexport default gameRed","import ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport React from \"react\";\r\nlet play ={\r\n    up(current,dim){\r\n        return current-dim\r\n    },\r\n    down(current,dim){\r\n        return current+dim\r\n    },\r\n    right(current,dim){\r\n        return current+1\r\n    },\r\n    left(current,dim){\r\n        return current-1\r\n    }\r\n\r\n}\r\nexport function game(current,dim,history) {\r\n    let moves =['UP', 'DOWN', 'LEFT', 'RIGHT']\r\n\r\n    if (current <= dim){\r\n        moves =moves.filter(element => element!=='UP' )\r\n    }\r\n    if ((current-1)%dim ===0 || current ===1){\r\n        moves =moves.filter(element => element!=='LEFT' )\r\n    }\r\n    if (current%dim === 0){\r\n        moves = moves.filter(element => element!=='RIGHT' )\r\n    }\r\n    if (current > (dim*dim)-dim){\r\n        moves =moves.filter(element => element!=='DOWN' )\r\n    }\r\n\r\n    let chooseMove = Math.floor(Math.random()*moves.length)\r\n    let move = moves[chooseMove]\r\n\r\n\r\n\r\n    switch(move){\r\n\r\n        case 'UP':\r\n            history.push(<ArrowUpwardIcon/>)\r\n            return play.up(current,dim)\r\n\r\n        case 'DOWN':\r\n            history.push(<ArrowDownwardIcon/>)\r\n            return play.down(current,dim)\r\n\r\n        case 'LEFT':\r\n            history.push(<ArrowBackIcon/>)\r\n            return play.left(current,dim)\r\n\r\n        case 'RIGHT':\r\n            history.push(<ArrowForwardIcon/>)\r\n            return play.right(current,dim)\r\n\r\n        default:\r\n            alert(`game ended on field ${current}`)\r\n    }\r\n\r\n\r\n}","import React, {useEffect, useRef, useState} from \"react\";\r\nimport  s from './map.module.css';\r\nimport classNames from 'classnames'\r\nimport {connect} from \"react-redux\";\r\nimport {choose, gameStatus, move, score, setStart, showAnswer,} from \"./gameReducer\";\r\nimport {game} from \"../gameEngine/gameApi\";\r\n\r\n\r\nconst Map =(props) =>{\r\n    let Dimension = props.dimension\r\n    let arr = Array(Dimension*Dimension).fill('')\r\n    let history =[];\r\n\r\n    let [answer, answerF] = useState(null)\r\n\r\n\r\n    useEffect(()=>{\r\n        if(!props.gameStatus) return\r\n        let start = Math.floor((Math.random()*8)+1);\r\n        props.setStartD(start)\r\n        let answer=start\r\n\r\n        for(let i=0; i <=9; ++i){\r\n            answer=game(answer, Dimension,history)\r\n        }\r\n        answerF(answer)\r\n\r\n        props.startMove(history)\r\n    },[props.gameStatus])\r\n\r\n    let btnGroupClasses = classNames(\r\n        {\r\n            [s.big9]: props.dimension===3,\r\n            [s.big25]: props.dimension===5\r\n        }\r\n    );\r\n\r\n    return(\r\n        <div >\r\n            <div className={btnGroupClasses}>\r\n                {arr.map((m,ind)=><MapMini {...props}\r\n                                           id={ind+1}\r\n                                           start={props.start}\r\n                                           answer={answer}\r\n                                           key={ind}\r\n                />)}\r\n\r\n            </div>\r\n            <Path game={props.gameStatus}\r\n                  history={props.movePattern}\r\n                  start={props.start}\r\n                  answer={answer}\r\n                  chooseD={props.chooseD}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nconst MapMini =(props)=>{\r\n\r\n    function answer() {\r\n\r\n        props.showAnswerD(true)\r\n\r\n        if(props.id===props.answer){\r\n            /*console.log('cool')*/\r\n            props.scored(100)\r\n        }\r\n        else{\r\n            /*console.log('wrong')*/\r\n            props.scored(-100)\r\n        }\r\n        props.chooseD(false)\r\n        props.gameStatusD(false)\r\n\r\n    }\r\n\r\n    let btnGroupClasses = classNames(\r\n        s.block,\r\n        {\r\n            [s.stblock]: props.id===props.start,\r\n            [s.answer]: props.showAnswer && props.id===props.answer\r\n        }\r\n    );\r\n\r\n    return(\r\n        <button disabled={!props.choose} onClick={()=>{answer()}} className={btnGroupClasses} >\r\n            {props.id===props.start ? 'Start' : ''}\r\n\r\n        </button>\r\n    )\r\n}\r\n\r\nconst Path = (props)=>{\r\n\r\n    let [state, stateF] =useState([])\r\n\r\n    const countRef = useRef(state);\r\n    countRef.current = state;\r\n\r\n\r\n    useEffect(()=>{\r\n        countRef.current=[]\r\n        stateF([]);\r\n        if(props.start === null) return\r\n        let i=0;\r\n        (function loop(){\r\n\r\n            stateF([...countRef.current,props.history[i]]);\r\n            if (++i < props.history.length) {\r\n                setTimeout(loop, 500);\r\n            }\r\n            else{\r\n\r\n                props.chooseD(true)\r\n            }\r\n        })();\r\n\r\n    },[props.start])\r\n\r\n    return(\r\n        <>\r\n        <div className={s.path}>\r\n\r\n            {  state.map((el,id) =>(<div key={id}>{state[id]}</div>))}\r\n\r\n\r\n        </div>\r\n            <p className={s.text}>Rules: follow moves pattern in your mind, as it stops click on correct field to get points </p>\r\n            </>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nconst mapStateToProps =(state)=>{\r\n    return{\r\n        gameStatus: state.game.play,\r\n        movePattern: state.game.movePattern,\r\n        score: state.game.score,\r\n        showAnswer:state.game.showAnswer,\r\n        dimension: state.game.dimension,\r\n        start: state.game.start,\r\n        choose: state.game.choose\r\n    }\r\n}\r\nconst mapDispatchToProps =(dispatch)=>{\r\n    return{\r\n        gameStatusD(data){\r\n            dispatch(gameStatus(data))\r\n        },\r\n        chooseD(data){\r\n            dispatch(choose(data))\r\n        },\r\n        startMove(data){\r\n            dispatch(move(data))\r\n        },\r\n        scored(data){\r\n            dispatch(score(data))\r\n        },\r\n\r\n        showAnswerD(data){\r\n            dispatch(showAnswer(data))\r\n        },\r\n        setStartD(data){\r\n            dispatch(setStart(data))\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Map)","import React, {useEffect} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {choose, dimension, gameStatus, move, setStart, showAnswer,} from \"../map/gameReducer\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport  s from './ui.module.css';\r\n\r\n\r\nconst Interface =(props)=>{\r\n    function newGame(){\r\n        props.gameStatusD(true)\r\n        props.showAnswerD(false)\r\n    }\r\n    const [selectedValue, setSelectedValue] = React.useState('a');\r\n\r\n    const handleChange = (event) => {\r\n        setSelectedValue(event.target.value);\r\n    };\r\n    useEffect(()=>{\r\n        return ()=>{\r\n            props.toggle(3)\r\n    }\r\n    },[])\r\n\r\n\r\n    return(\r\n        <div className={s.tac}>\r\n\r\n            <FormControlLabel value=\"end\" control={<Radio\r\n                checked={selectedValue === 'a'}\r\n                disabled={props.gameStatus}\r\n                onChange={handleChange}\r\n                onClick={()=>props.toggle(3)}\r\n                value=\"a\"\r\n                name=\"radio-button-demo\"\r\n                inputProps={{ 'aria-label': 'A' }}\r\n            />} label=\"3x3\" />\r\n\r\n            <FormControlLabel value=\"end\" control={<Radio\r\n                checked={selectedValue === 'b'}\r\n                disabled={props.gameStatus}\r\n                onChange={handleChange}\r\n                onClick={()=>props.toggle(5)}\r\n                value=\"b\"\r\n                name=\"radio-button-demo\"\r\n                inputProps={{ 'aria-label': 'B' }}\r\n            />} label=\"5x5\" />\r\n\r\n\r\n            <p>Score {props.score}</p>\r\n            {\r\n            <Button disabled={props.gameStatus} variant=\"contained\" onClick={newGame} color=\"secondary\">\r\n                Start New Game\r\n            </Button>\r\n           }\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps =(state)=>{\r\n    return{\r\n        gameStatus: state.game.play,\r\n        movePattern: state.game.movePattern,\r\n        score: state.game.score,\r\n        dimension: state.game.dimension,\r\n        start: state.game.start,\r\n        choose: state.game.choose\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps =(dispatch)=>{\r\n    return{\r\n        gameStatusD(data){\r\n            dispatch(gameStatus(data))\r\n        },\r\n        showAnswerD(data){\r\n            dispatch(showAnswer(data))\r\n        },\r\n        toggle(data){\r\n            dispatch(showAnswer(false))\r\n            dispatch(move([]))\r\n            dispatch(dimension(data))\r\n            dispatch(gameStatus(false))\r\n\r\n            dispatch(setStart(null))\r\n\r\n        }\r\n\r\n    }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Interface)","import React from \"react\";\r\nimport {Link, Route, Switch} from \"react-router-dom\";\r\nimport Login from \"../loginPage/loginPage\";\r\n\r\nimport s from './mainCont.module.css'\r\nimport Profile from \"../profilePage/userProfile\";\r\nimport AllUsers from \"../allUsers/allUsersPage\";\r\nimport Feed from \"../feed/feedPage\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport Map from \"./../../map/mapCOnt\";\r\nimport Interface from \"./../../UI/UIContainer\";\r\n\r\nimport CssBaseline from \"@material-ui/core/CssBaseline/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar/AppBar\";\r\nimport clsx from \"clsx\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\n\r\nimport {useTheme} from \"@material-ui/core/styles\";\r\n\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport {HeaderConnect} from \"../headerContainer\";\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport GroupAddIcon from '@material-ui/icons/GroupAdd';\r\nimport CommentIcon from '@material-ui/icons/Comment';\r\nimport SportsEsportsIcon from '@material-ui/icons/SportsEsports';\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    appBar: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n    },\r\n    appBarShift: {\r\n        marginLeft: drawerWidth,\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    menuButton: {\r\n        marginRight: 36,\r\n    },\r\n    hide: {\r\n        display: 'none',\r\n    },\r\n    drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n        whiteSpace: 'nowrap',\r\n    },\r\n    drawerOpen: {\r\n        width: drawerWidth,\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    drawerClose: {\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        overflowX: 'hidden',\r\n        width: theme.spacing(7) + 1,\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: theme.spacing(9) + 1,\r\n        },\r\n    },\r\n    toolbar: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'flex-end',\r\n        padding: theme.spacing(0, 1),\r\n        // necessary for content to be below app bar\r\n        ...theme.mixins.toolbar,\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing(3),\r\n    },\r\n}));\r\n\r\n\r\nconst MainConetent = () => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <div className={s.main}>\r\n                <div className={classes.root}>\r\n                    <CssBaseline/>\r\n                    <AppBar\r\n                        position=\"fixed\"\r\n                        className={clsx(classes.appBar, {\r\n                            [classes.appBarShift]: open,\r\n                        })}\r\n                    >\r\n                        <Toolbar>\r\n                            <IconButton\r\n                                color=\"inherit\"\r\n                                aria-label=\"open drawer\"\r\n                                onClick={handleDrawerOpen}\r\n                                edge=\"start\"\r\n                                className={clsx(classes.menuButton, {\r\n                                    [classes.hide]: open,\r\n                                })}\r\n                            >\r\n                                <MenuIcon/>\r\n                            </IconButton>\r\n\r\n                            <HeaderConnect/>\r\n\r\n\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    <Drawer\r\n                        variant=\"permanent\"\r\n                        className={clsx(classes.drawer, {\r\n                            [classes.drawerOpen]: open,\r\n                            [classes.drawerClose]: !open,\r\n                        })}\r\n                        classes={{\r\n                            paper: clsx({\r\n                                [classes.drawerOpen]: open,\r\n                                [classes.drawerClose]: !open,\r\n                            }),\r\n                        }}\r\n                    >\r\n                        <div className={classes.toolbar}>\r\n                            <IconButton onClick={handleDrawerClose}>\r\n                                {theme.direction === 'rtl' ? <ChevronRightIcon/> : <ChevronLeftIcon/>}\r\n                            </IconButton>\r\n                        </div>\r\n\r\n                        <Divider/>\r\n                        <List>\r\n                            {[\"Profile\", \"Users\", \"Feed\", \"Game\"].map((text, index) => (\r\n                                <Link to={`/${text.toLowerCase()}`}>\r\n                                    <ListItem button key={text}>\r\n                                        <ListItemIcon>\r\n\r\n                                            {index === 0 && <AccountBoxIcon/>}\r\n                                            {index === 1 && <GroupAddIcon/>}\r\n                                            {index === 2 && <CommentIcon/>}\r\n                                            {index === 3 && <SportsEsportsIcon/>}\r\n                                        </ListItemIcon>\r\n                                        <ListItemText primary={text}/>\r\n                                    </ListItem>\r\n                                </Link>\r\n                            ))}\r\n                        </List>\r\n                        <Divider/>\r\n\r\n                    </Drawer>\r\n\r\n                </div>\r\n\r\n                <div className={s.body}>\r\n                    {/*<Route path=\"/\">\r\n                        <Login />\r\n                    </Route>*/}\r\n                    <Route path=\"/profile\">\r\n                        <Profile/>\r\n                    </Route>\r\n                    <Route path=\"/users\">\r\n                        <AllUsers/>\r\n                    </Route>\r\n                    <Route path=\"/feed\">\r\n                        <Feed/>\r\n                    </Route>\r\n                    <Route path=\"/login\">\r\n                        <Login/>\r\n                    </Route>\r\n                    <Route path=\"/signup\">\r\n                        <Login/>\r\n                    </Route>\r\n                    <Route path=\"/game\">\r\n                        <Interface/>\r\n                        <Map/>\r\n\r\n                    </Route>\r\n                </div>\r\n            </div>\r\n        </Switch>\r\n    )\r\n}\r\nexport default MainConetent","import React from 'react';\nimport './App.css';\nimport {authThunk, HeaderConnect} from \"./component/headerContainer\";\nimport MainConetent from \"./component/mainContent/mainContent\";\nimport * as firebase from \"firebase\";\nimport {connect} from \"react-redux\";\nimport {fetchi} from \"./component/feed/feedPage\";\n\nfunction App(props) {\n    firebase.auth().onAuthStateChanged(async function (user) {\n\n        if (!firebase.auth().currentUser) {\n            props.authThunk(null, null, [])\n            props.fetchi(false)\n            return\n        }\n        props.fetchi(true)\n        let db = firebase.firestore()\n        let uid = firebase.auth().currentUser.uid\n        let dataRef = db.collection(\"userData\").doc(uid)\n        let login = firebase.auth().currentUser.email\n\n\n        dataRef.get().then(snapshot => {\n            if (snapshot.exists) {\n\n                dataRef.onSnapshot(doc => {\n                    let followed = (doc.data().followed)\n                    let status = (doc.data().status)\n                    let avaUrl = (doc.data().avaUrl)\n\n                    props.authThunk(login, uid, followed, status, avaUrl)\n                })\n            } else {\n                let user = firebase.auth().currentUser;\n                let followed = []\n                let status = ''\n                dataRef.set({\n\n                    email: user.email,\n                    uid: user.uid,\n                    followed,\n                    status,\n                })\n                props.authThunk(login, uid, followed, status)\n            }\n        })\n\n    });\n    return (\n        <>\n            <MainConetent/>\n        </>\n\n\n    );\n}\n\n\nexport default connect(null, {authThunk, fetchi}\n    )(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport {headerReducer} from \"../component/headerReducer\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport profileReducer from \"../component/profilePage/profileReduser\";\r\nimport allUsersReducer from \"../component/allUsers/allUsersReducer\";\r\nimport feedReducer from \"../component/feed/feedReducer\";\r\nimport gameRed from \"../map/gameReducer\";\r\n\r\n\r\nconst reducers = combineReducers(\r\n    {\r\n        authData: headerReducer,\r\n        messages: profileReducer,\r\n        users: allUsersReducer,\r\n        feed: feedReducer,\r\n        form: formReducer,\r\n        game: gameRed,\r\n\r\n    }\r\n)\r\nconst store = createStore(reducers, applyMiddleware(thunk))\r\n\r\n\r\n/*const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace: true,}) || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)\r\n));*/\r\n\r\nwindow.store = store\r\nexport default store\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\nimport store from \"./store/store\";\nimport {BrowserRouter as Router, HashRouter} from \"react-router-dom\";\nimport * as firebase from 'firebase';\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyArhJqkI1SecXZhxOC8FtiGulmeBBhcCtk\",\n    authDomain: \"social-network-ae990.firebaseapp.com\",\n    databaseURL: \"https://social-network-ae990.firebaseio.com\",\n    projectId: \"social-network-ae990\",\n    storageBucket: \"social-network-ae990.appspot.com\",\n    messagingSenderId: \"1054678905809\",\n    appId: \"1:1054678905809:web:7d3d4104dbcf1840dc66f0\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\n/*console.log(firebase.database().ref().child('status/text'))*/\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n          <HashRouter>\n            <App />\n          </HashRouter>\n      </Provider>\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"profile_text__2K8QF\",\"content\":\"profile_content__3UEkz\",\"status\":\"profile_status__3Cdz_\",\"statusSpan\":\"profile_statusSpan__3zEHx\",\"message\":\"profile_message__2rSvG\",\"avaBlock\":\"profile_avaBlock__38Qke\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"big25\":\"map_big25__3dUPH\",\"block\":\"map_block__2c2fT\",\"big9\":\"map_big9__1EP4x\",\"stblock\":\"map_stblock__2D9Ts\",\"path\":\"map_path__2le4u\",\"answer\":\"map_answer__xZsuM\",\"text\":\"map_text__3oVl6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__2kTbk\",\"heading\":\"login_heading__3odhs\",\"button\":\"login_button__3lHhE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userCard\":\"allusers_userCard__3B1TQ\",\"userWrap\":\"allusers_userWrap__2Z88B\",\"paginButton\":\"allusers_paginButton__2UQRH\",\"allU\":\"allusers_allU__kZaJT\",\"info\":\"allusers_info__30Dz1\",\"button\":\"allusers_button__10ALK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alertDiv\":\"feed_alertDiv__3fzqG\",\"apsn\":\"feed_apsn__2RoBT\",\"loader\":\"feed_loader__1MAnv\"};"],"sourceRoot":""}